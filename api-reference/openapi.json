{
  "openapi": "3.1.0",
  "paths": {
    "/": {
      "get": {
        "operationId": "AppController_getHello",
        "parameters": [],
        "responses": { "200": { "description": "" } },
        "tags": ["App"]
      }
    },
    "/health": {
      "get": {
        "operationId": "AppController_getHealth",
        "parameters": [],
        "responses": { "200": { "description": "" } },
        "tags": ["App"]
      }
    },
    "/debug-sentry": {
      "get": {
        "operationId": "AppController_getError",
        "parameters": [],
        "responses": { "200": { "description": "" } },
        "tags": ["App"]
      }
    },
    "/uber": {
      "get": {
        "operationId": "AppController_uberDirect",
        "parameters": [],
        "responses": { "200": { "description": "" } },
        "tags": ["App"]
      }
    },
    "/url": {
      "get": {
        "operationId": "AppController_url",
        "parameters": [],
        "responses": { "200": { "description": "" } },
        "tags": ["App"]
      }
    },
    "/business-organizations": {
      "post": {
        "description": "Creates a new business organization (restaurant chain/brand) and assigns the current user as owner",
        "operationId": "BusinessOrganizationController_createBusinessOrganization",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Business organization details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateBusinessOrganizationDTOValidator"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Business organization created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "id": { "type": "string", "example": "busorg_12345" },
                    "name": {
                      "type": "string",
                      "example": "Pizza Palace Chain"
                    },
                    "organizationId": {
                      "type": "string",
                      "example": "org_67890"
                    },
                    "locationIds": {
                      "type": "array",
                      "items": { "type": "string" },
                      "example": []
                    },
                    "createdAt": { "type": "string", "format": "date-time" },
                    "updatedAt": { "type": "string", "format": "date-time" }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid business organization data",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "BUSINESS_ORGANIZATION_VALIDATION_ERROR",
                      "message": "Invalid business organization creation data",
                      "details": { "missingFields": ["name", "userId"] }
                    }
                  },
                  "Name Too Short": {
                    "value": {
                      "code": "BUSINESS_ORGANIZATION_NAME_INVALID",
                      "message": "Business organization name must be at least 2 characters",
                      "details": { "providedName": "A" }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "examples": {
                  "Image Not Found": {
                    "value": {
                      "code": "BUSINESS_ORGANIZATION_IMAGE_NOT_FOUND",
                      "message": "Image not found",
                      "details": { "imageId": "img_12345" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Creation Error": {
                    "value": {
                      "code": "BUSINESS_ORGANIZATION_CREATION_ERROR",
                      "message": "Failed to create business organization",
                      "details": {
                        "originalError": "Database connection failed"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Create a new business organization",
        "tags": ["Business Organizations"]
      }
    },
    "/location": {
      "post": {
        "description": "Creates a new restaurant location and assigns the current user as owner",
        "operationId": "LocationController_createLocation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Restaurant location details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateLocationDTOValidator"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Location created successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/LocationResponseDTO" }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid location data",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "LOCATION_VALIDATION_ERROR",
                      "message": "Invalid location creation data",
                      "details": { "missingFields": ["location", "userId"] }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "examples": {
                  "Image Not Found": {
                    "value": {
                      "code": "LOCATION_IMAGE_NOT_FOUND",
                      "message": "Image not found",
                      "details": { "imageId": "img_12345" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Creation Error": {
                    "value": {
                      "code": "LOCATION_CREATION_ERROR",
                      "message": "Failed to create location",
                      "details": {
                        "originalError": "Database connection failed"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Create a new restaurant location",
        "tags": ["Locations"]
      }
    },
    "/location/{locationId}": {
      "put": {
        "description": "Updates basic information for an existing restaurant location",
        "operationId": "LocationController_updateLocation",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location to update",
            "schema": { "example": "loc_12345", "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Updated location details",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLocationDTOValidator"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Location updated successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/LocationResponseDTO" }
              }
            }
          },
          "400": { "description": "Bad request - Invalid location data" },
          "403": {
            "description": "Forbidden - User does not have access to this location"
          },
          "404": { "description": "Location not found" }
        },
        "summary": "Update a restaurant location",
        "tags": ["Locations"]
      }
    },
    "/location/{locationId}/orders": {
      "get": {
        "description": "Retrieves all orders associated with a specific restaurant location",
        "operationId": "LocationController_getLocationOrders",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location to get orders for",
            "schema": { "example": "loc_12345", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Orders retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "example": "order_12345" },
                      "locationId": {
                        "type": "string",
                        "example": "loc_12345"
                      },
                      "customerName": {
                        "type": "string",
                        "example": "John Doe"
                      },
                      "status": { "type": "string", "example": "confirmed" },
                      "totalPrice": {
                        "type": "object",
                        "properties": {
                          "amount": { "type": "number", "example": 2995 },
                          "currency": { "type": "string", "example": "CHF" },
                          "formatted": {
                            "type": "string",
                            "example": "CHF 29.95"
                          }
                        }
                      },
                      "createdAt": { "type": "string", "format": "date-time" }
                    }
                  }
                }
              }
            }
          },
          "400": { "description": "Identifiant de location manquant" },
          "401": {
            "description": "Non authentifié - Veuillez vous connecter pour accéder à cette ressource"
          },
          "403": {
            "description": "Accès refusé - Permissions insuffisantes ou non membre de l'organisation"
          },
          "404": {
            "description": "Location introuvable ou non associée à une organisation"
          }
        },
        "security": [{ "bearer": [] }],
        "summary": "Get orders for a restaurant location",
        "tags": ["Locations"]
      }
    },
    "/location/{locationId}/customers": {
      "get": {
        "description": "Retrieves all customers associated with a specific restaurant location",
        "operationId": "LocationController_getLocationCustomers",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location to get customers for",
            "schema": { "example": "loc_12345", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Customers retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "example": "cust_12345" },
                      "name": { "type": "string", "example": "John Doe" },
                      "phone": { "type": "string", "example": "+41791234567" },
                      "email": {
                        "type": "string",
                        "example": "john.doe@example.com"
                      },
                      "createdAt": { "type": "string", "format": "date-time" }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - User does not have access to this location"
          },
          "404": { "description": "Location not found" }
        },
        "summary": "Get customers for a restaurant location",
        "tags": ["Locations"]
      }
    },
    "/location/{locationId}/catalogs": {
      "get": {
        "description": "Retrieves all product catalogs associated with a specific restaurant location",
        "operationId": "LocationController_getLocationCatalogs",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location to get catalogs for",
            "schema": { "example": "loc_12345", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Catalogs retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "properties": {
                      "id": { "type": "string", "example": "catalog_12345" },
                      "name": { "type": "string", "example": "Main Menu" },
                      "description": {
                        "type": "string",
                        "example": "Regular menu items"
                      },
                      "categories": {
                        "type": "array",
                        "items": {
                          "type": "object",
                          "properties": {
                            "id": { "type": "string" },
                            "name": { "type": "string" }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - User does not have access to this location"
          },
          "404": { "description": "Location not found" }
        },
        "summary": "Get catalogs for a restaurant location",
        "tags": ["Locations"]
      }
    },
    "/location/{locationId}/delivery-settings": {
      "patch": {
        "description": "Updates delivery settings for a specific restaurant location",
        "operationId": "LocationController_updateDeliverySettings",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location to update delivery settings for",
            "schema": { "example": "loc_12345", "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Updated delivery settings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/DeliverySettingsDTOValidator"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Delivery settings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DeliverySettingsResponseDTO"
                }
              }
            }
          },
          "400": { "description": "Bad request - Invalid delivery settings" },
          "403": {
            "description": "Forbidden - User does not have access to this location"
          },
          "404": { "description": "Location not found" }
        },
        "summary": "Update delivery settings",
        "tags": ["Locations"]
      }
    },
    "/location/{locationId}/payment-settings": {
      "patch": {
        "description": "Updates payment settings for a specific restaurant location",
        "operationId": "LocationController_updatePaymentSettings",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location to update payment settings for",
            "schema": { "example": "loc_12345", "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Updated payment settings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PaymentSettingsDTOValidator"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment settings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentSettingsResponseDTO"
                }
              }
            }
          },
          "400": { "description": "Bad request - Invalid payment settings" },
          "403": {
            "description": "Forbidden - User does not have access to this location"
          },
          "404": { "description": "Location not found" }
        },
        "summary": "Update payment settings",
        "tags": ["Locations"]
      }
    },
    "/location/{locationId}/settings": {
      "patch": {
        "description": "Updates general settings for a specific restaurant location",
        "operationId": "LocationController_updateLocationSettings",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location to update settings for",
            "schema": { "example": "loc_12345", "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Updated location settings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateLocationSettingsDTOValidator"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Location settings updated successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/LocationSettingsResponseDTO"
                }
              }
            }
          },
          "400": { "description": "Bad request - Invalid location settings" },
          "403": {
            "description": "Forbidden - User does not have access to this location"
          },
          "404": { "description": "Location not found" }
        },
        "summary": "Update location settings",
        "tags": ["Locations"]
      }
    },
    "/location/{locationId}/billing-settings": {
      "patch": {
        "description": "Updates the billing settings for a specific location, including subscription details and fees",
        "operationId": "LocationController_updateBillingSettings",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location to update billing settings for",
            "schema": { "example": "loc_12345", "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "description": "Updated billing settings",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/BillingSettingsDTOValidator"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Billing settings updated successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/LocationResponseDTO" }
              }
            }
          },
          "400": { "description": "Identifiant de location manquant" },
          "401": {
            "description": "Non authentifié - Veuillez vous connecter pour accéder à cette ressource"
          },
          "403": {
            "description": "Accès refusé - Permissions insuffisantes ou non membre de l'organisation"
          },
          "404": {
            "description": "Location introuvable ou non associée à une organisation"
          }
        },
        "security": [{ "bearer": [] }],
        "summary": "Update billing settings for a location",
        "tags": ["Locations"]
      }
    },
    "/location/{locationId}/checkout": {
      "post": {
        "description": "Creates a Stripe checkout session for the location to process payment",
        "operationId": "LocationController_createCheckoutSession",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location to create a checkout session for",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Checkout session created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "url": {
                      "type": "string",
                      "description": "URL of the Stripe checkout session",
                      "example": "https://checkout.stripe.com/c/pay/cs_test_..."
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid location ID",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Location ID": {
                    "value": {
                      "code": "LOCATION_VALIDATION_ERROR",
                      "message": "Location ID is required",
                      "details": { "missingField": "locationId" }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Location not found",
            "content": {
              "application/json": {
                "examples": {
                  "Location Not Found": {
                    "value": {
                      "code": "LOCATION_NOT_FOUND",
                      "message": "Location not found",
                      "details": { "locationId": "loc_12345" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Checkout Error": {
                    "value": {
                      "code": "CHECKOUT_SESSION_ERROR",
                      "message": "Failed to create checkout session",
                      "details": { "originalError": "Stripe API error" }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Create a Stripe checkout session",
        "tags": ["Locations"]
      }
    },
    "/user": {
      "get": {
        "description": "Returns the authenticated user's profile information",
        "operationId": "UserController_getUser",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token for authentication",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "User information successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "id": "user_123",
                    "email": "user@example.com",
                    "name": "John Doe",
                    "role": "user",
                    "locations": []
                  }
                }
              }
            }
          },
          "401": {
            "description": "User not authenticated",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "UNAUTHORIZED",
                    "message": "You must be logged in to access this resource"
                  }
                }
              }
            }
          }
        },
        "summary": "Get current user information",
        "tags": ["User"]
      }
    },
    "/user/locations": {
      "get": {
        "description": "Returns all restaurant locations associated with the authenticated user and their business organizations",
        "operationId": "UserController_getUserLocations",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token for authentication",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Locations and business organizations successfully retrieved",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "locations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string", "example": "loc_123" },
                          "name": {
                            "type": "string",
                            "example": "Restaurant Name"
                          },
                          "currency": { "type": "string", "example": "CHF" },
                          "country": { "type": "string", "example": "CH" },
                          "contactInformation": {
                            "type": "string",
                            "example": "+41 21 123 45 67"
                          },
                          "timezone": {
                            "type": "string",
                            "example": "Europe/Zurich"
                          },
                          "averagePreparationTime": {
                            "type": "string",
                            "example": "00:15"
                          },
                          "minOrderAmount": {
                            "type": "string",
                            "example": "20.00"
                          },
                          "autoAcceptOrders": {
                            "type": "boolean",
                            "example": true
                          },
                          "hasSignedContract": {
                            "type": "boolean",
                            "example": true
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    },
                    "businessOrganizations": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "id": { "type": "string", "example": "busorg_456" },
                          "name": {
                            "type": "string",
                            "example": "Restaurant Chain"
                          },
                          "organizationId": {
                            "type": "string",
                            "example": "org_789"
                          },
                          "locationIds": {
                            "type": "array",
                            "items": { "type": "string" },
                            "example": ["loc_123", "loc_456"]
                          },
                          "locations": {
                            "type": "array",
                            "items": {
                              "type": "object",
                              "properties": {
                                "id": {
                                  "type": "string",
                                  "example": "loc_123"
                                },
                                "name": {
                                  "type": "string",
                                  "example": "Branch Location"
                                },
                                "currency": {
                                  "type": "string",
                                  "example": "CHF"
                                },
                                "country": { "type": "string", "example": "CH" }
                              }
                            }
                          },
                          "createdAt": {
                            "type": "string",
                            "format": "date-time"
                          },
                          "updatedAt": {
                            "type": "string",
                            "format": "date-time"
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid locations data",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "USER_VALIDATION_ERROR",
                    "message": "Unable to retrieve your locations - invalid data format",
                    "details": { "providedType": "undefined", "isArray": false }
                  }
                }
              }
            }
          },
          "401": {
            "description": "User not authenticated",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "UNAUTHORIZED",
                    "message": "You must be logged in to access this resource"
                  }
                }
              }
            }
          },
          "404": {
            "description": "One or more locations not found",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "USER_LOCATION_NOT_FOUND",
                    "message": "Unable to retrieve your locations - one or more locations not found",
                    "details": { "locationId": "123" }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error during locations retrieval",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "USER_LOCATION_ERROR",
                    "message": "Unable to retrieve your locations - please try again later"
                  }
                }
              }
            }
          }
        },
        "summary": "Get user's associated locations",
        "tags": ["User"]
      }
    },
    "/hubrise/health": {
      "get": {
        "operationId": "HubriseController_health",
        "parameters": [],
        "responses": { "200": { "description": "" } },
        "tags": ["Hubrise"]
      }
    },
    "/hubrise/setup": {
      "post": {
        "operationId": "HubriseController_setup",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Hubrise"]
      }
    },
    "/hubrise/edit-connection-settings": {
      "post": {
        "operationId": "HubriseController_editConnectionSettings",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Hubrise"]
      }
    },
    "/hubrise/revoke": {
      "post": {
        "operationId": "HubriseController_revoke",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Hubrise"]
      }
    },
    "/hubrise/sync-orders": {
      "post": {
        "operationId": "HubriseController_syncOrders",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Hubrise"]
      }
    },
    "/hubrise/sync-customers": {
      "post": {
        "operationId": "HubriseController_syncCustomers",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Hubrise"]
      }
    },
    "/hubrise/sync-catalog": {
      "post": {
        "operationId": "HubriseController_syncCatalog",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Hubrise"]
      }
    },
    "/hubrise/callback": {
      "post": {
        "operationId": "HubriseController_handleWebhook",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Hubrise"]
      }
    },
    "/dialog/setup": {
      "post": {
        "operationId": "DialogController_setupDialogConnection",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/dialog/setup-business-organization": {
      "post": {
        "operationId": "DialogController_setupDialogConnectionBusinessOrganization",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/dialog/location/{locationId}/upload-profile-picture": {
      "post": {
        "operationId": "DialogController_uploadImage",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/dialog/business-organization/{businessOrganizationId}/upload-profile-picture": {
      "post": {
        "operationId": "DialogController_uploadOrganizationImage",
        "parameters": [
          {
            "name": "businessOrganizationId",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/dialog/update-informations": {
      "post": {
        "operationId": "DialogController_updateInformations",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/dialog/update-whatsapp-settings": {
      "post": {
        "operationId": "DialogController_updateWhatsappSettings",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/dialog/partner-webhook": {
      "post": {
        "operationId": "DialogController_handlePartnerWebhook",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/dialog/webhook": {
      "post": {
        "operationId": "DialogController_handleDialogWebhook",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/dialog/disconnect": {
      "post": {
        "operationId": "DialogController_disconnectDialogConnection",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/dialog/setup-flow": {
      "post": {
        "operationId": "DialogController_setupFlow",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/dialog/flow/{locationId}": {
      "post": {
        "operationId": "DialogController_getFlow",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "201": { "description": "" } },
        "tags": ["Dialog Integration"]
      }
    },
    "/stripe/create-account": {
      "post": {
        "operationId": "StripeController_createStripeAccount",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Stripe"]
      }
    },
    "/stripe/create-account-link": {
      "post": {
        "operationId": "StripeController_createAccountLink",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Stripe"]
      }
    },
    "/stripe/create-account-session": {
      "post": {
        "operationId": "StripeController_createAccountSession",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Stripe"]
      }
    },
    "/stripe/disconnect-account": {
      "post": {
        "operationId": "StripeController_disconnectStripeAccount",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Stripe"]
      }
    },
    "/stripe/finalize-onboarding": {
      "post": {
        "operationId": "StripeController_finalizeStripeOnboarding",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Stripe"]
      }
    },
    "/stripe/portal-session": {
      "post": {
        "description": "Generates a URL for the Stripe Customer Portal to manage billing information.",
        "operationId": "StripeController_createCustomerPortalSession",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCustomerPortalSessionRequestDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Customer portal session URL created successfully.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateCustomerPortalSessionResponseDTO"
                }
              }
            }
          },
          "400": { "description": "Invalid request parameters." },
          "404": {
            "description": "Location not found or Stripe not configured."
          },
          "500": { "description": "Failed to create customer portal session." }
        },
        "summary": "Create a Stripe Customer Portal Session",
        "tags": ["Stripe"]
      }
    },
    "/stripe/preview-invoice/{locationId}": {
      "get": {
        "description": "Retrieves a preview of the upcoming invoice from Stripe based on the location's current subscription and usage.",
        "operationId": "StripeController_getPreviewInvoice",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "The ID of the location",
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Preview invoice retrieved successfully." },
          "404": {
            "description": "Location not found or no active subscription/customer ID."
          },
          "500": { "description": "Failed to retrieve preview invoice." }
        },
        "summary": "Get a preview of the next invoice for a location",
        "tags": ["Stripe"]
      }
    },
    "/stripe/meter-summaries/{locationId}/{meterType}": {
      "get": {
        "description": "Retrieves aggregated usage data for a specific meter (e.g., collection, delivery) over the last 30 days.",
        "operationId": "StripeController_getMeterEventSummaries",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "The ID of the location",
            "schema": { "type": "string" }
          },
          {
            "name": "meterType",
            "required": true,
            "in": "path",
            "description": "The type of meter to summarize (collection or delivery)",
            "schema": { "enum": ["collection", "delivery"], "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Meter event summaries retrieved successfully."
          },
          "400": { "description": "Invalid meter type." },
          "404": {
            "description": "Location not found or relevant Stripe IDs missing."
          },
          "500": { "description": "Failed to retrieve meter summaries." }
        },
        "summary": "Get meter event summaries for a location and meter type",
        "tags": ["Stripe"]
      }
    },
    "/stripe/webhook": {
      "post": {
        "operationId": "StripeController_stripeWebhook",
        "parameters": [
          {
            "name": "stripe-signature",
            "required": true,
            "in": "header",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "201": { "description": "" } },
        "tags": ["Stripe"]
      }
    },
    "/customer": {
      "post": {
        "description": "Creates a new customer in the system with the provided information",
        "operationId": "CustomerController_createCustomer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Customer data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateCustomerDTOValidator"
              },
              "examples": {
                "Basic Customer": {
                  "summary": "Basic customer information",
                  "value": {
                    "firstName": "John",
                    "lastName": "Doe",
                    "email": "john.doe@example.com",
                    "phone": "+41791234567",
                    "whatsappNumber": "+41791234567"
                  }
                },
                "Customer with Address": {
                  "summary": "Customer with delivery address",
                  "value": {
                    "firstName": "Marie",
                    "lastName": "Dubois",
                    "email": "marie.dubois@example.com",
                    "phone": "+41792345678",
                    "whatsappNumber": "+41792345678",
                    "address": {
                      "address": "123 Main Street",
                      "postalCode": "1205",
                      "city": "Geneva",
                      "country": "CH"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Customer created successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CustomerResponseDTO" }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid customer data",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid Email": {
                    "value": {
                      "code": "CUSTOMER_VALIDATION_ERROR",
                      "message": "Invalid email address format",
                      "details": { "field": "email", "value": "invalid-email" }
                    }
                  },
                  "Missing WhatsApp Number": {
                    "value": {
                      "code": "CUSTOMER_VALIDATION_ERROR",
                      "message": "Invalid customer data",
                      "details": {
                        "message": "Please provide a valid WhatsApp number for the customer"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Database Error": {
                    "value": {
                      "code": "CUSTOMER_CREATION_ERROR",
                      "message": "Failed to create customer",
                      "details": {
                        "originalError": "Database connection failed"
                      }
                    }
                  },
                  "Location Link Error": {
                    "value": {
                      "code": "CUSTOMER_LOCATION_LINK_ERROR",
                      "message": "Failed to link customer to locations",
                      "details": {
                        "originalError": "Failed to connect customer to specified location"
                      }
                    }
                  },
                  "Payment Method Error": {
                    "value": {
                      "code": "PAYMENT_METHOD_CREATION_ERROR",
                      "message": "Failed to create payment methods",
                      "details": {
                        "originalError": "Failed to process payment method data"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Create a new customer",
        "tags": ["Customers"]
      },
      "patch": {
        "description": "Updates an existing customer with the provided information",
        "operationId": "CustomerController_updateCustomer",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Customer data to update",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateCustomerDtoValidator"
              },
              "examples": {
                "Update Contact Info": {
                  "summary": "Update customer contact information",
                  "value": {
                    "id": "cust_12345",
                    "email": "john.new-email@example.com",
                    "phone": "+41799876543"
                  }
                },
                "Update Address": {
                  "summary": "Update customer address",
                  "value": {
                    "id": "cust_12345",
                    "address": {
                      "address": "456 New Street",
                      "postalCode": "1204",
                      "city": "Geneva",
                      "country": "CH"
                    }
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Customer updated successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CustomerResponseDTO" }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid customer data",
            "content": {
              "application/json": {
                "examples": {
                  "Missing ID": {
                    "value": {
                      "code": "CUSTOMER_VALIDATION_ERROR",
                      "message": "Invalid customer ID",
                      "details": { "customerId": null }
                    }
                  },
                  "Invalid Phone": {
                    "value": {
                      "code": "CUSTOMER_VALIDATION_ERROR",
                      "message": "Invalid phone number format",
                      "details": { "field": "phone", "value": "123-invalid" }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Customer not found",
            "content": {
              "application/json": {
                "examples": {
                  "Not Found": {
                    "value": {
                      "code": "CUSTOMER_NOT_FOUND",
                      "message": "Customer not found",
                      "details": { "customerId": "cust_12345" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Update Error": {
                    "value": {
                      "code": "CUSTOMER_UPDATE_ERROR",
                      "message": "Failed to update customer",
                      "details": {
                        "originalError": "Database transaction failed"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Update a customer",
        "tags": ["Customers"]
      }
    },
    "/customer/{id}": {
      "delete": {
        "description": "Deletes a customer from the system",
        "operationId": "CustomerController_deleteCustomer",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Customer ID",
            "schema": { "example": "cust_12345", "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Customer deleted successfully" },
          "400": {
            "description": "Bad request - Invalid customer ID",
            "content": {
              "application/json": {
                "examples": {
                  "Missing ID": {
                    "value": {
                      "code": "CUSTOMER_VALIDATION_ERROR",
                      "message": "Invalid customer ID",
                      "details": { "customerId": null }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Customer not found",
            "content": {
              "application/json": {
                "examples": {
                  "Not Found": {
                    "value": {
                      "code": "CUSTOMER_NOT_FOUND",
                      "message": "Customer not found",
                      "details": { "customerId": "cust_12345" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Deletion Error": {
                    "value": {
                      "code": "CUSTOMER_DELETION_ERROR",
                      "message": "Failed to delete customer",
                      "details": {
                        "originalError": "Database error during customer deletion"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Delete a customer",
        "tags": ["Customers"]
      },
      "get": {
        "description": "Retrieves detailed information about a customer including their order history",
        "operationId": "CustomerController_getCustomerById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Customer ID",
            "schema": { "example": "cust_12345", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Customer retrieved successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/CustomerResponseDTO" }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid customer ID",
            "content": {
              "application/json": {
                "examples": {
                  "Missing ID": {
                    "value": {
                      "code": "CUSTOMER_VALIDATION_ERROR",
                      "message": "Invalid customer ID",
                      "details": { "customerId": null }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Customer not found",
            "content": {
              "application/json": {
                "examples": {
                  "Not Found": {
                    "value": {
                      "code": "CUSTOMER_NOT_FOUND",
                      "message": "Customer not found",
                      "details": { "customerId": "cust_12345" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Retrieval Error": {
                    "value": {
                      "code": "CUSTOMER_RETRIEVAL_ERROR",
                      "message": "Failed to retrieve customer data",
                      "details": {
                        "originalError": "Database error during customer retrieval"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Get customer by ID",
        "tags": ["Customers"]
      }
    },
    "/order": {
      "post": {
        "description": "Creates a new order. An existing customer can be linked to the order by providing a customerId to the order.",
        "operationId": "OrderController_createOrder",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateOrderDTOValidator"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Order created successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/OrderDTOValidator" }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid order data or missing required fields",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "ORDER_VALIDATION_ERROR",
                      "message": "Your order is missing some required information. Please check all required fields are filled out",
                      "details": { "missingFields": ["order", "locationId"] }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Location not found",
            "content": {
              "application/json": {
                "examples": {
                  "Location Not Found": {
                    "value": {
                      "code": "ORDER_LOCATION_NOT_FOUND",
                      "message": "The restaurant location you selected is not available. Please choose a different location or try again later",
                      "details": { "locationId": "loc_123" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error while creating order",
            "content": {
              "application/json": {
                "examples": {
                  "Creation Error": {
                    "value": {
                      "code": "ORDER_CREATION_ERROR",
                      "message": "We were unable to process your order at this time. Please try again in a few minutes or contact our support team for assistance",
                      "details": {
                        "locationId": "loc_123",
                        "customerId": "cust_123"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Create a new order",
        "tags": ["Orders"]
      }
    },
    "/order/update-status": {
      "patch": {
        "description": "Updates an order status and emits order updated events.",
        "operationId": "OrderController_updateOrderStatus",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOrderStatusDTOValidator"
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Order status updated successfully" },
          "400": {
            "description": "Bad request - Invalid status update data or missing required fields",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "ORDER_VALIDATION_ERROR",
                      "message": "We need more information to update your order. Please ensure all required details are provided",
                      "details": { "missingFields": ["data", "id"] }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Order not found",
            "content": {
              "application/json": {
                "examples": {
                  "Order Not Found": {
                    "value": {
                      "code": "ORDER_NOT_FOUND",
                      "message": "We couldn't find the order you're trying to update. Please check the order number and try again",
                      "details": { "orderId": "order_123" }
                    }
                  }
                }
              }
            }
          },
          "422": {
            "description": "Unprocessable Entity - New status is same as current status",
            "content": {
              "application/json": {
                "examples": {
                  "Invalid Status": {
                    "value": {
                      "code": "ORDER_INVALID_STATUS",
                      "message": "Your order is already in this status. No changes were needed",
                      "details": {
                        "orderId": "order_123",
                        "currentStatus": "new",
                        "newStatus": "new"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error while updating order",
            "content": {
              "application/json": {
                "examples": {
                  "Update Error": {
                    "value": {
                      "code": "ORDER_UPDATE_ERROR",
                      "message": "We encountered an issue while updating your order. Please try again in a few minutes or contact our support team if the problem persists",
                      "details": { "orderId": "order_123" }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Update order status",
        "tags": ["Orders"]
      }
    },
    "/order/print/{id}": {
      "post": {
        "description": "Prints order details and delivery bulletin (if delivery) to configured Epson printers. This endpoint is only used for Gigatacos bulletin printing. Another endpoint will soon be available for receipt printers.",
        "operationId": "OrderController_printOrder",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Order ID",
            "schema": { "example": "order_123", "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Order printed successfully" },
          "400": {
            "description": "Bad request - Invalid order ID",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "ORDER_VALIDATION_ERROR",
                      "message": "Order data is required",
                      "details": { "missingField": "order" }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Order or location not found",
            "content": {
              "application/json": {
                "examples": {
                  "Order Not Found": {
                    "value": {
                      "code": "ORDER_NOT_FOUND",
                      "message": "We couldn't find the order you're trying to print",
                      "details": { "orderId": "order_123" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error while printing order",
            "content": {
              "application/json": {
                "examples": {
                  "Printing Error": {
                    "value": {
                      "code": "ORDER_PRINTING_ERROR",
                      "message": "We encountered an issue while printing your order. Please try again in a few minutes or contact our support team if the problem persists",
                      "details": { "orderId": "order_123" }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Print an order",
        "tags": ["Orders"]
      }
    },
    "/order/print-receipt/{id}": {
      "post": {
        "operationId": "OrderController_printOrderReceipt",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "201": { "description": "" } },
        "tags": ["Orders"]
      }
    },
    "/order/{id}": {
      "get": {
        "description": "Retrieves detailed information about an order",
        "operationId": "OrderController_getOrderById",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "Order ID",
            "schema": { "example": "order_12345", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Order retrieved successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/OrderDTOValidator" }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid order ID",
            "content": {
              "application/json": {
                "examples": {
                  "Missing ID": {
                    "value": {
                      "code": "ORDER_VALIDATION_ERROR",
                      "message": "Invalid order ID",
                      "details": { "orderId": null }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Order not found",
            "content": {
              "application/json": {
                "examples": {
                  "Not Found": {
                    "value": {
                      "code": "ORDER_NOT_FOUND",
                      "message": "Order not found",
                      "details": { "orderId": "order_12345" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Retrieval Error": {
                    "value": {
                      "code": "ORDER_RETRIEVAL_ERROR",
                      "message": "Failed to retrieve order data",
                      "details": {
                        "originalError": "Database error during order retrieval"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Get order by ID",
        "tags": ["Orders"]
      }
    },
    "/order/location/{locationId}/current": {
      "get": {
        "description": "Retrieves all current orders for a specific location. Current orders are those from the current business day or the last 12 hours, whichever is more recent.",
        "operationId": "OrderController_getCurrentOrdersByLocationId",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "Location ID",
            "schema": { "example": "loc_12345", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Current orders retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/OrderDTOValidator" }
                }
              }
            }
          },
          "400": { "description": "Identifiant de location manquant" },
          "401": {
            "description": "Non authentifié - Veuillez vous connecter pour accéder à cette ressource"
          },
          "403": {
            "description": "Accès refusé - Permissions insuffisantes ou non membre de l'organisation"
          },
          "404": {
            "description": "Location introuvable ou non associée à une organisation"
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Retrieval Error": {
                    "value": {
                      "code": "LOCATION_ORDERS_ERROR",
                      "message": "We're having trouble loading the orders list. Please try again in a few moments",
                      "details": {
                        "locationId": "loc_12345",
                        "originalError": "Database error during order retrieval"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "security": [{ "bearer": [] }],
        "summary": "Get current orders for a location",
        "tags": ["Orders"]
      }
    },
    "/conversation": {
      "post": {
        "description": "Creates a new conversation between a customer and a location",
        "operationId": "ConversationController_createConversation",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Conversation creation data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateConversationDTOValidator"
              },
              "examples": {
                "Basic conversation": {
                  "value": {
                    "customerId": "cust_12345",
                    "locationId": "loc_12345"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Conversation created successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ConversationResponseDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Missing or invalid parameters",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "CONVERSATION_VALIDATION_ERROR",
                      "message": "Invalid conversation creation data",
                      "details": {
                        "missingFields": ["customerId", "locationId"]
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Customer or location not found",
            "content": {
              "application/json": {
                "examples": {
                  "Customer Not Found": {
                    "value": {
                      "code": "CUSTOMER_NOT_FOUND",
                      "message": "Customer not found",
                      "details": { "customerId": "cust_12345" }
                    }
                  },
                  "Location Not Found": {
                    "value": {
                      "code": "LOCATION_NOT_FOUND",
                      "message": "Location not found",
                      "details": { "locationId": "loc_12345" }
                    }
                  }
                }
              }
            }
          },
          "409": {
            "description": "Conflict - Conversation already exists",
            "content": {
              "application/json": {
                "examples": {
                  "Conversation Already Exists": {
                    "value": {
                      "code": "CONVERSATION_ALREADY_EXISTS",
                      "message": "A conversation already exists between this customer and location",
                      "details": {
                        "customerId": "cust_12345",
                        "locationId": "loc_12345",
                        "conversationId": "conv_12345"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "examples": {
                  "Creation Error": {
                    "value": {
                      "code": "CONVERSATION_CREATION_ERROR",
                      "message": "Failed to create conversation",
                      "details": { "originalError": "Database error" }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Create a new conversation",
        "tags": ["Conversations"]
      }
    },
    "/conversation/switch-chatbot-active": {
      "post": {
        "description": "Toggles whether the AI chatbot is actively handling messages for a conversation",
        "operationId": "ConversationController_switchChatbotActive",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Chatbot toggle data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SwitchChatbotActiveDTOValidator"
              },
              "examples": {
                "Enable Chatbot": {
                  "value": { "conversationId": "conv_12345", "active": true }
                },
                "Disable Chatbot": {
                  "value": { "conversationId": "conv_12345", "active": false }
                }
              }
            }
          }
        },
        "responses": {
          "200": { "description": "Chatbot state updated successfully" },
          "400": {
            "description": "Bad Request - Missing or invalid parameters",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "CONVERSATION_VALIDATION_ERROR",
                      "message": "Invalid chatbot switch request",
                      "details": {
                        "missingFields": ["conversationId", "active"]
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Conversation not found",
            "content": {
              "application/json": {
                "examples": {
                  "Conversation Not Found": {
                    "value": {
                      "code": "CONVERSATION_NOT_FOUND",
                      "message": "Conversation not found",
                      "details": { "conversationId": "conv_12345" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "examples": {
                  "Update Error": {
                    "value": {
                      "code": "CONVERSATION_UPDATE_ERROR",
                      "message": "Failed to switch chatbot mode",
                      "details": { "originalError": "Database error" }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Toggle chatbot active state",
        "tags": ["Conversations"]
      }
    },
    "/conversation/{type}/{entityId}": {
      "get": {
        "description": "Retrieves a list of all conversations for an entity (location or business organization) without their full message history",
        "operationId": "ConversationController_getEntityConversationsWithoutMessages",
        "parameters": [
          {
            "name": "type",
            "required": true,
            "in": "path",
            "description": "Type of entity to get conversations for",
            "schema": {
              "enum": ["location", "businessOrganization"],
              "type": "string"
            }
          },
          {
            "name": "entityId",
            "required": true,
            "in": "path",
            "description": "ID of the entity to get conversations for",
            "schema": { "example": "loc_12345", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Conversations retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/ConversationWithoutMessagesResponseDTO"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Missing or invalid parameters",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Entity ID": {
                    "value": {
                      "code": "CONVERSATION_VALIDATION_ERROR",
                      "message": "Invalid entity request",
                      "details": { "missingFields": ["entityId"] }
                    }
                  },
                  "Invalid Type": {
                    "value": {
                      "code": "CONVERSATION_VALIDATION_ERROR",
                      "message": "Invalid entity type",
                      "details": { "invalidType": "invalid_type" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "examples": {
                  "Retrieval Error": {
                    "value": {
                      "code": "CONVERSATION_RETRIEVAL_ERROR",
                      "message": "Failed to retrieve conversations",
                      "details": {
                        "type": "location",
                        "entityId": "loc_12345",
                        "originalError": "Database error"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Get entity conversations without messages",
        "tags": ["Conversations"]
      }
    },
    "/conversation/{conversationId}": {
      "get": {
        "description": "Retrieves a specific conversation with its full details",
        "operationId": "ConversationController_getConversation",
        "parameters": [
          {
            "name": "conversationId",
            "required": true,
            "in": "path",
            "description": "ID of the conversation to retrieve",
            "schema": { "example": "conv_12345", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Conversation retrieved successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WebappConversationResponseDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Missing or invalid parameters",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Conversation ID": {
                    "value": {
                      "code": "CONVERSATION_VALIDATION_ERROR",
                      "message": "Invalid conversation request",
                      "details": { "missingFields": ["conversationId"] }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not Found - Conversation not found",
            "content": {
              "application/json": {
                "examples": {
                  "Not Found": {
                    "value": {
                      "code": "CONVERSATION_NOT_FOUND",
                      "message": "Conversation not found",
                      "details": { "conversationId": "conv_12345" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "examples": {
                  "Retrieval Error": {
                    "value": {
                      "code": "CONVERSATION_RETRIEVAL_ERROR",
                      "message": "Failed to retrieve conversation",
                      "details": {
                        "conversationId": "conv_12345",
                        "originalError": "Database error"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Get a conversation",
        "tags": ["Conversations"]
      }
    },
    "/message/assistant": {
      "post": {
        "description": "Registers a new message from the assistant in the conversation",
        "operationId": "MessageController_registerAssistantMessage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Assistant message data",
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/CreateAssistantTextMessageDTOSchema"
                  },
                  {
                    "$ref": "#/components/schemas/CreateAssistantToolCallMessageDTOSchema"
                  },
                  {
                    "$ref": "#/components/schemas/CreateAssistantToolResultMessageDTOSchema"
                  }
                ]
              },
              "examples": {
                "Text Message": {
                  "value": {
                    "conversationId": "conv_123",
                    "sender": "assistant",
                    "type": "text",
                    "content": "Hello, how can I help you with your order?"
                  },
                  "summary": "Basic text message from assistant"
                },
                "Tool Call Message": {
                  "value": {
                    "conversationId": "conv_123",
                    "sender": "assistant",
                    "type": "toolCall",
                    "toolCalls": [
                      {
                        "toolCallId": "call_123",
                        "function": {
                          "name": "searchProducts",
                          "arguments": "{\"query\": \"pizza\"}"
                        }
                      }
                    ]
                  },
                  "summary": "Tool call message"
                },
                "Tool Result Message": {
                  "value": {
                    "conversationId": "conv_123",
                    "sender": "tool",
                    "type": "toolResult",
                    "toolCallId": "call_123",
                    "toolResultData": "{\"products\": [{\"id\": \"prod_123\", \"name\": \"Margherita Pizza\", \"price\": 12.99}]}"
                  },
                  "summary": "Tool result message"
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Assistant message registered successfully" },
          "400": {
            "description": "Bad request - Invalid message data",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "MESSAGE_VALIDATION_ERROR",
                      "message": "Invalid message data",
                      "details": { "missingFields": ["id", "conversationId"] }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Conversation not found",
            "content": {
              "application/json": {
                "examples": {
                  "Conversation Not Found": {
                    "value": {
                      "code": "CONVERSATION_NOT_FOUND",
                      "message": "The conversation was not found",
                      "details": { "conversationId": "conv_123" }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Register an assistant message",
        "tags": ["Messages"]
      }
    },
    "/message/platform": {
      "post": {
        "description": "Sends a new message through the platform (WhatsApp)",
        "operationId": "MessageController_sendPlatformMessage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Platform message data",
          "content": {
            "application/json": {
              "schema": {
                "oneOf": [
                  {
                    "$ref": "#/components/schemas/CreatePlatformTextMessageDTOSchema"
                  },
                  {
                    "$ref": "#/components/schemas/CreatePlatformFlowMessageDTOSchema"
                  },
                  {
                    "$ref": "#/components/schemas/CreatePlatformButtonMessageDTOSchema"
                  },
                  {
                    "$ref": "#/components/schemas/CreatePlatformAudioMessageDTOSchema"
                  },
                  {
                    "$ref": "#/components/schemas/CreatePlatformLocationRequestMessageDTOSchema"
                  },
                  {
                    "$ref": "#/components/schemas/CreatePlatformLocationResponseMessageDTOSchema"
                  },
                  {
                    "$ref": "#/components/schemas/CreatePlatformUrlMessageDTOSchema"
                  }
                ]
              },
              "examples": {
                "Text Message": {
                  "value": {
                    "conversationId": "conv_123",
                    "sender": "location",
                    "type": "text",
                    "content": "Your order has been confirmed!"
                  },
                  "summary": "Basic text message from restaurant"
                },
                "Flow Message": {
                  "value": {
                    "conversationId": "conv_123",
                    "sender": "location",
                    "type": "flow",
                    "content": "Let me guide you through our order process"
                  },
                  "summary": "Flow message to guide customer conversation"
                },
                "Button Message": {
                  "value": {
                    "conversationId": "conv_123",
                    "sender": "location",
                    "type": "button",
                    "content": "Please choose your delivery option:",
                    "buttons": [
                      { "id": "btn_1", "title": "Delivery" },
                      { "id": "btn_2", "title": "Pickup" }
                    ]
                  },
                  "summary": "Interactive button message"
                },
                "Audio Message": {
                  "value": {
                    "conversationId": "conv_123",
                    "sender": "customer",
                    "type": "audio",
                    "content": "Voice message about order instructions",
                    "audioUrl": "https://storage.chataigne.com/audio/message_12345.mp3"
                  },
                  "summary": "Audio message from customer"
                },
                "Location Request": {
                  "value": {
                    "conversationId": "conv_123",
                    "sender": "location",
                    "type": "locationRequest",
                    "content": "Please share your location for delivery"
                  },
                  "summary": "Request for customer location"
                },
                "Location Response": {
                  "value": {
                    "conversationId": "conv_123",
                    "sender": "location",
                    "type": "locationResponse",
                    "location": { "latitude": 46.2044, "longitude": 6.1432 }
                  },
                  "summary": "Location coordinates response"
                },
                "URL Message": {
                  "value": {
                    "conversationId": "conv_123",
                    "sender": "location",
                    "type": "url",
                    "content": "Check out our menu!",
                    "url": "https://restaurant.com/menu",
                    "cta": "View Menu"
                  },
                  "summary": "URL message with call-to-action"
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Platform message sent successfully" },
          "400": {
            "description": "Bad request - Invalid message data",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "MESSAGE_VALIDATION_ERROR",
                      "message": "Invalid message data",
                      "details": {
                        "missingFields": ["id", "conversationId", "content"]
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Conversation not found",
            "content": {
              "application/json": {
                "examples": {
                  "Conversation Not Found": {
                    "value": {
                      "code": "CONVERSATION_NOT_FOUND",
                      "message": "The conversation was not found",
                      "details": { "conversationId": "conv_123" }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Send a platform message",
        "tags": ["Messages"]
      }
    },
    "/message/nexus-instruction": {
      "post": {
        "description": "Sends an instruction to the AI chatbot to modify its behavior during a conversation",
        "operationId": "MessageController_sendNexusInstruction",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Nexus instruction data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NexusInstructionDTOSchema"
              },
              "examples": {
                "Basic Instruction": {
                  "value": {
                    "conversationId": "conv_123",
                    "instruction": "Please be more friendly and offer a discount on pizzas in your next response"
                  },
                  "summary": "Basic instruction to modify chatbot behavior"
                }
              }
            }
          }
        },
        "responses": {
          "201": { "description": "Nexus instruction sent successfully" },
          "400": {
            "description": "Bad request - Invalid instruction data",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "INSTRUCTION_VALIDATION_ERROR",
                      "message": "Invalid instruction data",
                      "details": {
                        "missingFields": ["conversationId", "instruction"]
                      }
                    }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Not found - Required entity not found",
            "content": {
              "application/json": {
                "examples": {
                  "Conversation Not Found": {
                    "value": {
                      "code": "CONVERSATION_NOT_FOUND",
                      "message": "Conversation not found",
                      "details": { "conversationId": "conv_123" }
                    }
                  },
                  "Location Not Found": {
                    "value": {
                      "code": "LOCATION_NOT_FOUND",
                      "message": "Location not found",
                      "details": { "locationId": "loc_123" }
                    }
                  },
                  "Customer Not Found": {
                    "value": {
                      "code": "CUSTOMER_NOT_FOUND",
                      "message": "Customer not found",
                      "details": { "customerId": "cust_123" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Server error - Failed to deliver instruction",
            "content": {
              "application/json": {
                "examples": {
                  "Delivery Error": {
                    "value": {
                      "code": "INSTRUCTION_DELIVERY_ERROR",
                      "message": "Failed to send instruction to chatbot",
                      "details": { "conversationId": "conv_123" }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Send nexus instruction to chatbot",
        "tags": ["Messages"]
      }
    },
    "/order-draft/{orderDraftId}": {
      "patch": {
        "description": "Updates an order draft and returns validation results",
        "operationId": "OrderDraftController_checkAndUpdateOrderDraft",
        "parameters": [
          {
            "name": "orderDraftId",
            "required": true,
            "in": "path",
            "description": "ID of the order draft to update",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateOrderDraftDTOValidator"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Order draft successfully updated and validated",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UpdateOrderDraftReturnDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "examples": {
                  "Missing WhatsApp Integration": {
                    "value": {
                      "code": "BAD_REQUEST",
                      "message": "Location doesn't have a WhatsApp integration"
                    },
                    "summary": "Location's WhatsApp integration is missing"
                  },
                  "Missing WhatsApp Catalog": {
                    "value": {
                      "code": "BAD_REQUEST",
                      "message": "Location doesn't have a WhatsApp catalog"
                    },
                    "summary": "Location's WhatsApp catalog is missing"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "examples": {
                  "Order Draft Not Found": {
                    "value": {
                      "code": "NOT_FOUND",
                      "message": "Order draft not found",
                      "details": { "orderDraftId": "draft_123" }
                    },
                    "summary": "Order draft not found"
                  },
                  "Conversation Not Found": {
                    "value": {
                      "code": "NOT_FOUND",
                      "message": "Conversation not found",
                      "details": { "conversationId": "conv_123" }
                    },
                    "summary": "Conversation not found"
                  },
                  "Location Not Found": {
                    "value": {
                      "code": "NOT_FOUND",
                      "message": "Location not found",
                      "details": { "locationId": "loc_123" }
                    },
                    "summary": "Location not found"
                  },
                  "Catalog Not Found": {
                    "value": {
                      "code": "NOT_FOUND",
                      "message": "Catalog not found",
                      "details": { "catalogId": "cat_123" }
                    },
                    "summary": "Catalog not found"
                  },
                  "Customer Not Found": {
                    "value": {
                      "code": "NOT_FOUND",
                      "message": "Customer not found",
                      "details": { "customerId": "cus_123" }
                    },
                    "summary": "Customer not found"
                  }
                }
              }
            }
          }
        },
        "summary": "Update and validate an order draft",
        "tags": ["Order Drafts"]
      }
    },
    "/order-draft/register": {
      "post": {
        "description": "Converts an order draft into a confirmed order. This endpoint does not process payment and should only be use when the payment is handled by the store.",
        "operationId": "OrderDraftController_registerOrderDraft",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["orderDraftId"],
                "properties": {
                  "orderDraftId": {
                    "type": "string",
                    "description": "ID of the order draft to register"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Order successfully registered",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "type": "object",
                      "properties": {
                        "type": {
                          "type": "string",
                          "enum": ["orderRegistered"]
                        },
                        "order": {
                          "$ref": "#/components/schemas/OrderDTOValidator"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": { "type": "string", "enum": ["orderPaid"] },
                        "order": {
                          "$ref": "#/components/schemas/OrderDTOValidator"
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": { "type": "string", "enum": ["checkoutUrl"] },
                        "checkoutUrl": { "type": "string" }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "type": { "type": "string", "enum": ["failed"] },
                        "failureReason": { "type": "string" }
                      }
                    }
                  ]
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Required Fields": {
                    "value": {
                      "code": "ORDER_DRAFT_VALIDATION_ERROR",
                      "message": "Order draft ID is required",
                      "userMessage": "Please provide a valid order draft ID to proceed with registration",
                      "details": { "missingFields": ["orderDraftId"] }
                    },
                    "summary": "Missing order draft ID"
                  },
                  "Already Registered": {
                    "value": {
                      "code": "ORDER_DRAFT_ALREADY_REGISTERED",
                      "message": "Order draft is already registered",
                      "userMessage": "This order has already been registered. Please check your order history or start a new order",
                      "details": {
                        "orderDraftId": "draft_123",
                        "status": "registered"
                      }
                    },
                    "summary": "Order draft already registered"
                  },
                  "Active Order Already Exists In Conversation": {
                    "value": {
                      "code": "ORDER_ALREADY_EXISTS_IN_CONVERSATION_[SHORT_ID]",
                      "message": "An active order already exists in this conversation",
                      "userMessage": "You have already placed an order that is still in progress. Please contact the restaurant if you want to modify this order.",
                      "details": {
                        "conversationId": "conv_123",
                        "orderIds": ["ord_123"]
                      }
                    },
                    "summary": "An order is already in progress for this conversation"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "examples": {
                  "Order Draft Not Found": {
                    "value": {
                      "code": "ORDER_DRAFT_NOT_FOUND",
                      "message": "Order draft not found",
                      "userMessage": "We could not find your order draft. Please try creating a new order",
                      "details": { "orderDraftId": "draft_123" }
                    },
                    "summary": "Order draft not found"
                  },
                  "Conversation Not Found": {
                    "value": {
                      "code": "CONVERSATION_NOT_FOUND",
                      "message": "Conversation not found",
                      "userMessage": "We encountered an issue with your conversation history. Please start a new conversation",
                      "details": { "conversationId": "conv_123" }
                    },
                    "summary": "Conversation not found"
                  },
                  "Customer Not Found": {
                    "value": {
                      "code": "CUSTOMER_NOT_FOUND",
                      "message": "Customer not found",
                      "userMessage": "We could not find the customer profile. Please ensure you entered an existing customer id",
                      "details": { "customerId": "cust_123" }
                    },
                    "summary": "Customer not found"
                  },
                  "Location Not Found": {
                    "value": {
                      "code": "NOT_FOUND",
                      "message": "Location not found",
                      "details": { "locationId": "loc_123" }
                    },
                    "summary": "Location not found"
                  },
                  "Catalog Not Found": {
                    "value": {
                      "code": "NOT_FOUND",
                      "message": "Catalog not found",
                      "details": { "catalogId": "cat_123" }
                    },
                    "summary": "Catalog not found"
                  }
                }
              }
            }
          }
        },
        "summary": "Register an order draft",
        "tags": ["Order Drafts"]
      }
    },
    "/order-draft/create-checkout": {
      "post": {
        "description": "Creates a Stripe checkout session for the order draft. This is used for alternative payment methods (i.e. TWINT, Apple Pay, Google Pay, etc.)",
        "operationId": "OrderDraftController_createCheckoutSessionForOrderDraft",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "required": ["orderDraftId"],
                "properties": {
                  "orderDraftId": {
                    "type": "string",
                    "description": "ID of the order draft to create checkout for"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Checkout session created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "required": ["checkoutUrl"],
                  "properties": {
                    "checkoutUrl": {
                      "type": "string",
                      "description": "URL to redirect the customer for payment"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Required Fields": {
                    "value": {
                      "code": "ORDER_DRAFT_VALIDATION_ERROR",
                      "message": "Order draft ID is required",
                      "userMessage": "To complete your payment, we need your order information. Please try placing your order again",
                      "details": { "missingFields": ["orderDraftId"] }
                    },
                    "summary": "Missing order draft ID"
                  }
                }
              }
            }
          },
          "404": {
            "description": "Resource not found",
            "content": {
              "application/json": {
                "examples": {
                  "Order Draft Not Found": {
                    "value": {
                      "code": "ORDER_DRAFT_NOT_FOUND",
                      "message": "Order draft not found",
                      "userMessage": "We couldn't find your order details. Please try placing your order again from the beginning",
                      "details": { "orderDraftId": "draft_123" }
                    },
                    "summary": "Order draft not found"
                  },
                  "Conversation Not Found": {
                    "value": {
                      "code": "CONVERSATION_NOT_FOUND",
                      "message": "Conversation not found",
                      "userMessage": "Your ordering session has expired. Please start a new conversation to place your order",
                      "details": { "conversationId": "conv_123" }
                    },
                    "summary": "Conversation not found"
                  },
                  "Customer Not Found": {
                    "value": {
                      "code": "CUSTOMER_NOT_FOUND",
                      "message": "Customer not found",
                      "userMessage": "We couldn't find your customer account. Please ensure you're logged in or create a new account",
                      "details": { "customerId": "cust_123" }
                    },
                    "summary": "Customer not found"
                  },
                  "Location Not Found": {
                    "value": {
                      "code": "NOT_FOUND",
                      "message": "Location not found",
                      "details": { "locationId": "loc_123" }
                    },
                    "summary": "Location not found"
                  },
                  "Catalog Not Found": {
                    "value": {
                      "code": "NOT_FOUND",
                      "message": "Catalog not found",
                      "details": { "catalogId": "cat_123" }
                    },
                    "summary": "Catalog not found"
                  }
                }
              }
            }
          }
        },
        "summary": "Create checkout session",
        "tags": ["Order Drafts"]
      }
    },
    "/catalog": {
      "post": {
        "operationId": "CatalogController_createCatalog",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Catalog"]
      }
    },
    "/catalog/{id}": {
      "put": {
        "operationId": "CatalogController_updateCatalog",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Catalog"]
      },
      "delete": {
        "operationId": "CatalogController_deleteCatalog",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Catalog"]
      }
    },
    "/catalog/category": {
      "post": {
        "operationId": "CategoryController_createCategory",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Category"]
      }
    },
    "/catalog/category/{id}": {
      "put": {
        "operationId": "CategoryController_updateCategory",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Category"]
      },
      "delete": {
        "operationId": "CategoryController_deleteCategory",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Category"]
      }
    },
    "/catalog/product": {
      "post": {
        "operationId": "ProductController_createProduct",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Product"]
      }
    },
    "/catalog/product/{id}": {
      "put": {
        "operationId": "ProductController_updateProduct",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Product"]
      },
      "delete": {
        "operationId": "ProductController_deleteProduct",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Product"]
      }
    },
    "/catalog/option-list": {
      "post": {
        "operationId": "OptionListController_create",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["OptionList"]
      }
    },
    "/catalog/option-list/{id}": {
      "put": {
        "operationId": "OptionListController_update",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["OptionList"]
      },
      "delete": {
        "operationId": "OptionListController_delete",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["OptionList"]
      }
    },
    "/catalog/option": {
      "post": {
        "operationId": "OptionController_createOption",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Option"]
      }
    },
    "/catalog/option/{id}": {
      "put": {
        "operationId": "OptionController_updateOption",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Option"]
      },
      "delete": {
        "operationId": "OptionController_deleteOption",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Option"]
      }
    },
    "/image": {
      "post": {
        "description": "Uploads a new image to the system and initiates optimization processing. Returns metadata for the uploaded image, including URLs and thumbnails. Supports JPG, JPEG, PNG, and WebP formats up to 5MB in size.",
        "operationId": "ImageController_uploadImage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Image file to upload",
          "content": {
            "multipart/form-data": {
              "schema": { "$ref": "#/components/schemas/UploadImageDTO" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Image uploaded successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/ImageResponseDTO" }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid image data or format",
            "content": {
              "application/json": {
                "examples": {
                  "Missing File": {
                    "value": {
                      "code": "IMAGE_VALIDATION_ERROR",
                      "message": "Invalid image data",
                      "details": { "missingFields": ["file"] }
                    }
                  },
                  "Unsupported Format": {
                    "value": {
                      "code": "UNSUPPORTED_FORMAT_ERROR",
                      "message": "Unsupported image format",
                      "details": { "mimeType": "application/pdf" }
                    }
                  },
                  "File Too Large": {
                    "value": {
                      "code": "FILE_TOO_LARGE",
                      "message": "File too large",
                      "details": { "maxSize": "5MB" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Upload Error": {
                    "value": {
                      "code": "S3_UPLOAD_ERROR",
                      "message": "Failed to upload image",
                      "details": {
                        "originalError": "S3 storage connection failed"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Upload a new image",
        "tags": ["Images"]
      }
    },
    "/image/{id}": {
      "delete": {
        "description": "Deletes an image and all its optimization variants from the system. This operation is irreversible and removes all image data from storage.",
        "operationId": "ImageController_deleteImage",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "description": "ID of the image to delete",
            "schema": { "example": "img_12345", "type": "string" }
          }
        ],
        "responses": {
          "200": { "description": "Image deleted successfully" },
          "404": {
            "description": "Image not found",
            "content": {
              "application/json": {
                "examples": {
                  "Image Not Found": {
                    "value": {
                      "code": "IMAGE_NOT_FOUND",
                      "message": "Image not found",
                      "details": { "imageId": "img_12345" }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Deletion Error": {
                    "value": {
                      "code": "S3_DELETION_ERROR",
                      "message": "Failed to delete image from storage",
                      "details": { "imageId": "img_12345" }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Delete an image",
        "tags": ["Images"]
      }
    },
    "/payment/get-payment-method-register-url": {
      "post": {
        "description": "Creates a Stripe session URL for registering a new payment method",
        "operationId": "PaymentController_getPaymentMethodRegisterUrl",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/GetPaymentMethodRegistrationDTO"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Payment method registration URL successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "sessionUrl": {
                      "type": "string",
                      "example": "https://stripe.com/setup/s/payment/123456789",
                      "description": "URL to redirect the customer for payment method registration"
                    }
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request data",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "VALIDATION_ERROR",
                    "message": "Unable to create registration session - missing required information",
                    "details": { "missingFields": ["customerId", "locationId"] }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Customer or location not found",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "NOT_FOUND_ERROR",
                    "message": "Unable to create registration session - customer or location not found",
                    "details": {
                      "customerId": "cust_123456789",
                      "locationId": "loc_123456789"
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error during session creation",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "STRIPE_SESSION_ERROR",
                    "message": "Unable to create registration session - please try again later"
                  }
                }
              }
            }
          }
        },
        "summary": "Get URL for registering a payment method",
        "tags": ["Payment"]
      }
    },
    "/{shortCode}": {
      "get": {
        "description": "Resolves a short link and redirects to the original payment URL",
        "operationId": "ShortLinkController_redirect",
        "parameters": [
          {
            "name": "shortCode",
            "required": true,
            "in": "path",
            "description": "The short code of the Châtaigne short link",
            "schema": { "example": "1234567890", "type": "string" }
          }
        ],
        "responses": {
          "302": {
            "description": "Redirect to the original URL",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "url": "https://payment.chataigne.app/checkout/123456789",
                    "statusCode": 302
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid or missing short URL",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "SHORT_LINK_VALIDATION_ERROR",
                    "message": "Unable to resolve link - URL is missing",
                    "details": { "missingField": "shortUrl" }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Short link not found or expired",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "SHORT_LINK_NOT_FOUND",
                    "message": "Unable to resolve link - invalid or expired link",
                    "details": { "shortUrl": "1234567890" }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error during link resolution",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "SHORT_LINK_RESOLUTION_ERROR",
                    "message": "Unable to resolve link - please try again later"
                  }
                }
              }
            }
          }
        },
        "summary": "Redirect a Châtaigne short link to the original URL",
        "tags": ["ShortLink"]
      }
    },
    "/dialog/template": {
      "post": {
        "description": "Creates a new template message for WhatsApp Business API that can be used to send structured messages to customers.",
        "operationId": "TemplateController_createTemplateMessage",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "The template message configuration including header, body, footer and buttons.",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateTemplateMessageDTOValidator"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "The template message has been successfully created.",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CreateTemplateMessageDTOValidator"
                }
              }
            }
          },
          "400": {
            "description": "Invalid template data - Required fields missing.",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "error": "TEMPLATE_VALIDATION_ERROR",
                    "message": "The template message is missing required information. Please check all required fields are filled out",
                    "details": {
                      "missingFields": ["locationId", "templateMessage"]
                    }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Not authorized to create templates for this location."
          },
          "404": {
            "description": "Location or WhatsApp integration not found.",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "example": {
                        "error": "TEMPLATE_LOCATION_NOT_FOUND",
                        "message": "The restaurant location you specified does not exist",
                        "details": { "locationId": "loc_123" }
                      }
                    },
                    {
                      "example": {
                        "error": "TEMPLATE_WHATSAPP_NOT_CONFIGURED",
                        "message": "This location does not have WhatsApp integration configured",
                        "details": { "locationId": "loc_123" }
                      }
                    }
                  ]
                }
              }
            }
          },
          "500": {
            "description": "Server error occurred while creating the template.",
            "content": {
              "application/json": {
                "schema": {
                  "oneOf": [
                    {
                      "example": {
                        "error": "TEMPLATE_WHATSAPP_API_ERROR",
                        "message": "Failed to create template on WhatsApp. Please try again later",
                        "details": {
                          "locationId": "loc_123",
                          "templateName": "order_confirmation",
                          "originalError": "WhatsApp API error details"
                        }
                      }
                    },
                    {
                      "example": {
                        "error": "TEMPLATE_DATABASE_ERROR",
                        "message": "Failed to save template message in database",
                        "details": {
                          "locationId": "loc_123",
                          "templateName": "order_confirmation",
                          "originalError": "Database error details"
                        }
                      }
                    },
                    {
                      "example": {
                        "error": "TEMPLATE_CREATION_ERROR",
                        "message": "We were unable to create your template message at this time. Please try again later",
                        "details": {
                          "locationId": "loc_123",
                          "templateName": "order_confirmation",
                          "originalError": "Error details"
                        }
                      }
                    }
                  ]
                }
              }
            }
          }
        },
        "summary": "Create a new WhatsApp template message",
        "tags": ["WhatsApp Templates"]
      }
    },
    "/dialog/template/{locationId}": {
      "get": {
        "description": "Retrieves all WhatsApp template messages configured for a specific location.",
        "operationId": "TemplateController_getTemplateMessages",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location to get templates for",
            "schema": { "example": "loc_123", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "List of template messages for the location.",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CreateTemplateMessageDTOValidator"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid request - Location ID is missing.",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "error": "TEMPLATE_GET_VALIDATION_ERROR",
                    "message": "Location ID is required to fetch templates",
                    "details": { "missingFields": ["locationId"] }
                  }
                }
              }
            }
          },
          "403": {
            "description": "Forbidden - Not authorized to view templates for this location."
          },
          "404": {
            "description": "Location not found or WhatsApp integration not configured."
          }
        },
        "summary": "Get all template messages for a location",
        "tags": ["WhatsApp Templates"]
      }
    },
    "/dialog/template/{locationId}/{templateMessageId}": {
      "delete": {
        "description": "Deletes a specific WhatsApp template message from a location.",
        "operationId": "TemplateController_deleteTemplateMessage",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID of the location the template belongs to",
            "schema": { "example": "loc_123", "type": "string" }
          },
          {
            "name": "templateMessageId",
            "required": true,
            "in": "path",
            "description": "ID of the template message to delete",
            "schema": { "example": "tmpl_123", "type": "string" }
          }
        ],
        "responses": {
          "204": { "description": "Template message successfully deleted." },
          "403": {
            "description": "Forbidden - Not authorized to delete templates for this location."
          },
          "404": {
            "description": "Template message, location, or WhatsApp integration not found."
          },
          "500": {
            "description": "Failed to delete template on WhatsApp Business API."
          }
        },
        "summary": "Delete a template message",
        "tags": ["WhatsApp Templates"]
      }
    },
    "/payment-method": {
      "post": {
        "description": "Creates a new payment method for a customer",
        "operationId": "PaymentMethodController_createPaymentMethod",
        "parameters": [
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token for authentication",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreatePaymentMethodDTOValidator"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Payment method successfully created",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/PaymentMethodResponseDTO"
                }
              }
            }
          },
          "400": {
            "description": "Invalid payment method data or missing required fields",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "PAYMENT_METHOD_VALIDATION_ERROR",
                    "message": "Your payment method is missing required informations",
                    "details": { "missingFields": ["customerId"] }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Customer not found",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "PAYMENT_METHOD_CUSTOMER_NOT_FOUND",
                    "message": "Unable to save payment method - customer account not found",
                    "details": { "customerId": "123" }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error during payment method creation",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "PAYMENT_METHOD_CREATION_ERROR",
                    "message": "Unable to save your payment method - please try again later"
                  }
                }
              }
            }
          }
        },
        "summary": "Create a new payment method",
        "tags": ["Payment Methods"]
      }
    },
    "/payment-method/{id}": {
      "delete": {
        "description": "Removes a payment method from the system",
        "operationId": "PaymentMethodController_deletePaymentMethod",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          },
          {
            "name": "Authorization",
            "in": "header",
            "description": "Bearer token for authentication",
            "required": true,
            "schema": { "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Payment method successfully deleted",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "message": "Payment method successfully deleted"
                  }
                }
              }
            }
          },
          "400": {
            "description": "Invalid or missing payment method ID",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "PAYMENT_METHOD_VALIDATION_ERROR",
                    "message": "Unable to remove payment method - ID is missing",
                    "details": { "missingField": "paymentMethodId" }
                  }
                }
              }
            }
          },
          "404": {
            "description": "Payment method not found",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "PAYMENT_METHOD_NOT_FOUND",
                    "message": "Unable to remove payment method - payment method not found",
                    "details": { "paymentMethodId": "123" }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error during payment method deletion",
            "content": {
              "application/json": {
                "schema": {
                  "example": {
                    "code": "PAYMENT_METHOD_DELETE_ERROR",
                    "message": "Unable to remove your payment method - please try again later"
                  }
                }
              }
            }
          }
        },
        "summary": "Delete a payment method",
        "tags": ["Payment Methods"]
      }
    },
    "/feedback": {
      "post": {
        "description": "Submits customer feedback about their experience with the AI chatbot",
        "operationId": "ChatbotFeedbackController_createChatbotFeedback",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Feedback submission data",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateChatbotFeedbackDTOValidator"
              },
              "examples": {
                "Basic feedback": {
                  "value": {
                    "conversationId": "conv_12345",
                    "feedback": "The chatbot was very helpful."
                  }
                },
                "Order-related feedback": {
                  "value": {
                    "conversationId": "conv_12345",
                    "orderId": "order_12345",
                    "feedback": "The chatbot handled my order perfectly."
                  }
                }
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Feedback submitted successfully",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ChatbotFeedbackResponseDTO"
                }
              }
            }
          },
          "400": {
            "description": "Bad Request - Missing or invalid parameters",
            "content": {
              "application/json": {
                "examples": {
                  "Missing Fields": {
                    "value": {
                      "code": "CHATBOT_FEEDBACK_VALIDATION_ERROR",
                      "message": "Invalid chatbot feedback data",
                      "details": {
                        "missingFields": ["conversationId", "feedback"]
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal Server Error",
            "content": {
              "application/json": {
                "examples": {
                  "Creation Error": {
                    "value": {
                      "code": "CHATBOT_FEEDBACK_CREATION_ERROR",
                      "message": "Failed to save chatbot feedback",
                      "details": { "originalError": "Database error" }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Submit chatbot feedback",
        "tags": ["Feedback"]
      }
    },
    "/catalog/discount": {
      "post": {
        "operationId": "DiscountController_createDiscount",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateDiscountDTOValidator"
              }
            }
          }
        },
        "responses": { "201": { "description": "" } },
        "tags": ["Discount"]
      }
    },
    "/catalog/discount/{id}": {
      "put": {
        "operationId": "DiscountController_updateDiscount",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UpdateDiscountDTOValidator"
              }
            }
          }
        },
        "responses": { "200": { "description": "" } },
        "tags": ["Discount"]
      },
      "delete": {
        "operationId": "DiscountController_deleteDiscount",
        "parameters": [
          {
            "name": "id",
            "required": true,
            "in": "path",
            "schema": { "type": "string" }
          }
        ],
        "responses": { "200": { "description": "" } },
        "tags": ["Discount"]
      }
    },
    "/expedy/update-integration": {
      "post": {
        "operationId": "ExpedyController_updatePrinterIds",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Expedy"]
      }
    },
    "/shipday/webhook": {
      "post": {
        "operationId": "ShipdayController_handleWebhook",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["Shipday"]
      }
    },
    "/uber-direct/create-integration": {
      "post": {
        "operationId": "UberDirectController_createIntegration",
        "parameters": [],
        "responses": {
          "400": { "description": "Identifiant de location manquant" },
          "401": {
            "description": "Non authentifié - Veuillez vous connecter pour accéder à cette ressource"
          },
          "403": {
            "description": "Accès refusé - Permissions insuffisantes ou non membre de l'organisation"
          },
          "404": {
            "description": "Location introuvable ou non associée à une organisation"
          }
        },
        "security": [{ "bearer": [] }],
        "tags": ["UberDirect"]
      }
    },
    "/uber-direct/invite-user": {
      "post": {
        "operationId": "UberDirectController_inviteUser",
        "parameters": [],
        "responses": {
          "400": { "description": "Identifiant de location manquant" },
          "401": {
            "description": "Non authentifié - Veuillez vous connecter pour accéder à cette ressource"
          },
          "403": {
            "description": "Accès refusé - Permissions insuffisantes ou non membre de l'organisation"
          },
          "404": {
            "description": "Location introuvable ou non associée à une organisation"
          }
        },
        "security": [{ "bearer": [] }],
        "tags": ["UberDirect"]
      }
    },
    "/uber-direct/webhook": {
      "post": {
        "operationId": "UberDirectController_webhook",
        "parameters": [],
        "responses": { "201": { "description": "" } },
        "tags": ["UberDirect"]
      }
    },
    "/chatbot/check-address": {
      "post": {
        "operationId": "ChatbotController_checkAddress",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/CheckAddressInputDto" }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Address check result",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/CheckAddressOutputDto"
                }
              }
            }
          }
        },
        "summary": "Check address validity and delivery options for chatbot",
        "tags": ["Chatbot"]
      }
    },
    "/campaign": {
      "post": {
        "description": "Crée une nouvelle campagne marketing WhatsApp avec un message modèle et une liste de destinataires.",
        "operationId": "MarketingCampaignController_createCampaign",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "Données de la campagne marketing à créer",
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CreateMarketingCampaignDTOValidator"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "La campagne a été créée avec succès",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/MarketingCampaignDTOResponse"
                }
              }
            }
          },
          "400": {
            "description": "Données invalides - Vérifiez le format et les champs requis"
          },
          "404": {
            "description": "Restaurant non trouvé ou message modèle non trouvé"
          }
        },
        "summary": "Créer une nouvelle campagne marketing",
        "tags": ["Campagnes Marketing"]
      }
    },
    "/campaign/{locationId}": {
      "get": {
        "description": "Retourne la liste des campagnes marketing associées à un restaurant spécifique.",
        "operationId": "MarketingCampaignController_getCampaignsByLocation",
        "parameters": [
          {
            "name": "locationId",
            "required": true,
            "in": "path",
            "description": "ID du restaurant",
            "schema": { "example": "loc_123", "type": "string" }
          }
        ],
        "responses": {
          "200": {
            "description": "Liste des campagnes marketing",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/MarketingCampaignDTOResponse"
                  }
                }
              }
            }
          },
          "404": { "description": "Restaurant non trouvé" }
        },
        "summary": "Récupérer les campagnes marketing d'un restaurant",
        "tags": ["Campagnes Marketing"]
      }
    },
    "/file/upload-file": {
      "post": {
        "description": "Uploads a video or document file for use in WhatsApp templates. Files are uploaded directly to S3 storage without database persistence. Supports MP4 videos (max 16MB) and PDF/DOC/DOCX documents (max 100MB). Returns the direct S3 URL for immediate use in WhatsApp templates.",
        "operationId": "FileController_uploadFile",
        "parameters": [],
        "requestBody": {
          "required": true,
          "description": "File to upload for WhatsApp template usage",
          "content": {
            "multipart/form-data": {
              "schema": { "$ref": "#/components/schemas/UploadFileDTO" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "File uploaded successfully",
            "content": {
              "application/json": {
                "schema": { "$ref": "#/components/schemas/FileResponseDTO" }
              }
            }
          },
          "400": {
            "description": "Bad request - Invalid file data or format",
            "content": {
              "application/json": {
                "examples": {
                  "Missing File": {
                    "value": {
                      "code": "FILE_VALIDATION_ERROR",
                      "message": "Invalid file data",
                      "details": { "missingFields": ["file"] }
                    }
                  },
                  "Unsupported Format": {
                    "value": {
                      "code": "UNSUPPORTED_FORMAT_ERROR",
                      "message": "Unsupported file format",
                      "details": {
                        "mimeType": "application/exe",
                        "supportedFormats": [
                          "video/mp4",
                          "application/pdf",
                          "application/msword",
                          "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
                        ]
                      }
                    }
                  },
                  "File Too Large": {
                    "value": {
                      "code": "FILE_TOO_LARGE",
                      "message": "File too large",
                      "details": {
                        "maxSizeVideo": "16MB",
                        "maxSizeDocument": "100MB"
                      }
                    }
                  }
                }
              }
            }
          },
          "500": {
            "description": "Internal server error",
            "content": {
              "application/json": {
                "examples": {
                  "Upload Error": {
                    "value": {
                      "code": "S3_UPLOAD_ERROR",
                      "message": "Failed to upload file",
                      "details": {
                        "originalError": "S3 storage connection failed"
                      }
                    }
                  }
                }
              }
            }
          }
        },
        "summary": "Upload a file for WhatsApp templates",
        "tags": ["Files"]
      }
    }
  },
  "info": {
    "title": "Châtaigne API",
    "description": "Châtaigne's main server API",
    "version": "1.0",
    "contact": {}
  },
  "tags": [],
  "servers": [],
  "components": {
    "schemas": {
      "CreateBusinessOrganizationDTOValidator": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the business organization (restaurant chain/brand)",
            "example": "Pizza Palace Chain",
            "minLength": 2,
            "maxLength": 100
          },
          "imageId": {
            "type": "string",
            "description": "Optional image ID for the business organization logo",
            "example": "img_12345"
          }
        },
        "required": ["name"]
      },
      "AddressDTOValidator": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "description": "Street address",
            "example": "123 Main Street"
          },
          "address2": {
            "type": "string",
            "description": "Additional address information",
            "example": "Suite 101"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal code",
            "example": "1204"
          },
          "city": {
            "type": "string",
            "description": "City",
            "example": "Geneva"
          },
          "country": {
            "type": "string",
            "description": "Country code",
            "example": "CH"
          },
          "latitude": {
            "type": "number",
            "description": "Latitude coordinate",
            "example": 46.2044
          },
          "longitude": {
            "type": "number",
            "description": "Longitude coordinate",
            "example": 6.1432
          }
        },
        "required": ["address", "postalCode", "city"]
      },
      "TimeRangeDTOValidator": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "description": "Opening time in format HH:MM",
            "example": "09:00"
          },
          "to": {
            "type": "string",
            "description": "Closing time in format HH:MM",
            "example": "18:00"
          }
        },
        "required": ["from", "to"]
      },
      "DayOpeningHoursDTOValidator": {
        "type": "object",
        "properties": {
          "monday": {
            "description": "Monday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeDTOValidator" }
          },
          "tuesday": {
            "description": "Tuesday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeDTOValidator" }
          },
          "wednesday": {
            "description": "Wednesday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeDTOValidator" }
          },
          "thursday": {
            "description": "Thursday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeDTOValidator" }
          },
          "friday": {
            "description": "Friday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeDTOValidator" }
          },
          "saturday": {
            "description": "Saturday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeDTOValidator" }
          },
          "sunday": {
            "description": "Sunday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeDTOValidator" }
          }
        }
      },
      "OpeningHoursDTOValidator": {
        "type": "object",
        "properties": {
          "pickup": {
            "description": "Pickup opening hours",
            "allOf": [
              { "$ref": "#/components/schemas/DayOpeningHoursDTOValidator" }
            ]
          },
          "delivery": {
            "description": "Delivery opening hours",
            "allOf": [
              { "$ref": "#/components/schemas/DayOpeningHoursDTOValidator" }
            ]
          }
        },
        "required": ["pickup", "delivery"]
      },
      "CreateLocationDTOValidator": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Restaurant name",
            "example": "Pizzeria Da Mario"
          },
          "imageId": {
            "type": "string",
            "description": "ID of the uploaded restaurant image",
            "example": "img_12345"
          },
          "currency": {
            "type": "string",
            "description": "Currency used by the restaurant",
            "enum": ["CHF", "EUR", "USD"],
            "example": "CHF"
          },
          "address": {
            "description": "Address information",
            "allOf": [{ "$ref": "#/components/schemas/AddressDTOValidator" }]
          },
          "timezone": {
            "type": "string",
            "description": "IANA timezone string",
            "example": "Europe/Zurich"
          },
          "country": {
            "type": "string",
            "description": "Country where the restaurant is located",
            "enum": ["CH", "FR"],
            "example": "CH"
          },
          "openingHours": {
            "description": "Opening hours by day of the week",
            "allOf": [
              { "$ref": "#/components/schemas/OpeningHoursDTOValidator" }
            ]
          },
          "contactInformation": {
            "type": "string",
            "description": "Contact information (phone numbers, emails)",
            "example": "Phone: +41 22 123 4567\nEmail: info@pizzeriamario.ch"
          }
        },
        "required": ["name", "currency", "address", "timezone", "country"]
      },
      "ImageResponseDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique image ID",
            "example": "img_12345"
          },
          "url": {
            "type": "string",
            "description": "Original image URL (high quality)",
            "example": "https://cdn.example.com/images/img_12345.jpg"
          },
          "mediumCompressedUrl": {
            "type": "string",
            "description": "Medium quality compressed image URL (300kb max)",
            "example": "https://cdn.example.com/images/img_12345_medium.jpg"
          },
          "smallCompressedUrl": {
            "type": "string",
            "description": "Small quality compressed image URL (100kb max)",
            "example": "https://cdn.example.com/images/img_12345_small.jpg"
          },
          "base64": {
            "type": "string",
            "description": "Base64 encoded small thumbnail for instant loading",
            "example": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEA..."
          },
          "mediumBase64": {
            "type": "string",
            "description": "Base64 encoded medium thumbnail for instant loading",
            "example": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEA..."
          }
        },
        "required": ["id", "url"]
      },
      "AddressResponseDTO": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "description": "Street address",
            "example": "123 Main Street"
          },
          "address2": {
            "type": "string",
            "description": "Additional address information",
            "example": "Suite 101"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal code",
            "example": "1204"
          },
          "city": {
            "type": "string",
            "description": "City",
            "example": "Geneva"
          },
          "country": {
            "type": "string",
            "description": "Country code",
            "example": "CH"
          },
          "latitude": {
            "type": "number",
            "description": "Latitude coordinate",
            "example": 46.2044
          },
          "longitude": {
            "type": "number",
            "description": "Longitude coordinate",
            "example": 6.1432
          }
        },
        "required": ["address", "postalCode", "city"]
      },
      "TimeRangeResponseDTO": {
        "type": "object",
        "properties": {
          "from": {
            "type": "string",
            "description": "Opening time in format HH:MM",
            "example": "09:00"
          },
          "to": {
            "type": "string",
            "description": "Closing time in format HH:MM",
            "example": "18:00"
          }
        },
        "required": ["from", "to"]
      },
      "DayOpeningHoursResponseDTO": {
        "type": "object",
        "properties": {
          "monday": {
            "description": "Monday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeResponseDTO" }
          },
          "tuesday": {
            "description": "Tuesday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeResponseDTO" }
          },
          "wednesday": {
            "description": "Wednesday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeResponseDTO" }
          },
          "thursday": {
            "description": "Thursday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeResponseDTO" }
          },
          "friday": {
            "description": "Friday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeResponseDTO" }
          },
          "saturday": {
            "description": "Saturday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeResponseDTO" }
          },
          "sunday": {
            "description": "Sunday opening hours",
            "type": "array",
            "items": { "$ref": "#/components/schemas/TimeRangeResponseDTO" }
          }
        }
      },
      "OpeningHoursResponseDTO": {
        "type": "object",
        "properties": {
          "pickup": {
            "description": "Pickup opening hours",
            "allOf": [
              { "$ref": "#/components/schemas/DayOpeningHoursResponseDTO" }
            ]
          },
          "delivery": {
            "description": "Delivery opening hours",
            "allOf": [
              { "$ref": "#/components/schemas/DayOpeningHoursResponseDTO" }
            ]
          }
        },
        "required": ["pickup", "delivery"]
      },
      "PriceResponseDTO": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Amount in smallest currency unit (e.g. cents)",
            "example": 995
          },
          "currency": {
            "type": "string",
            "description": "Currency code",
            "enum": ["CHF", "EUR", "USD"],
            "example": "CHF"
          },
          "formatted": {
            "type": "string",
            "description": "Price display string with currency symbol",
            "example": "CHF 9.95"
          }
        },
        "required": ["amount", "currency"]
      },
      "DeliveryPostalCodeResponseDTO": {
        "type": "object",
        "properties": {
          "postalCode": {
            "type": "number",
            "description": "Postal code number",
            "example": 1204
          },
          "minimumOrderAmount": {
            "type": "number",
            "description": "Minimum order amount for this postal code",
            "example": 2000
          },
          "deliveryFee": {
            "description": "Delivery fee for this postal code",
            "allOf": [{ "$ref": "#/components/schemas/PriceResponseDTO" }]
          }
        },
        "required": ["postalCode", "minimumOrderAmount", "deliveryFee"]
      },
      "FeeSharingSettingsResponseDTO": {
        "type": "object",
        "properties": {
          "mode": {
            "type": "string",
            "description": "Fee sharing mode",
            "enum": ["percentage", "customerPaysAll", "restaurantPaysAll"],
            "example": "customerPaysAll"
          },
          "percentage": {
            "type": "number",
            "description": "Percentage of fee paid by customer (if mode is percentage)",
            "example": 70
          }
        },
        "required": ["mode"]
      },
      "DeliverySettingsResponseDTO": {
        "type": "object",
        "properties": {
          "mode": {
            "type": "string",
            "description": "Delivery mode",
            "enum": ["none", "postalCode", "uberDirect"],
            "example": "postalCode"
          },
          "postalCodes": {
            "description": "List of postal codes with delivery settings",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DeliveryPostalCodeResponseDTO"
            }
          },
          "feeSharing": {
            "description": "Fee sharing settings for delivery",
            "allOf": [
              { "$ref": "#/components/schemas/FeeSharingSettingsResponseDTO" }
            ]
          }
        },
        "required": ["mode", "postalCodes", "feeSharing"]
      },
      "PaymentSettingsResponseDTO": {
        "type": "object",
        "properties": {
          "mode": {
            "type": "string",
            "description": "Payment mode",
            "enum": ["store", "stripe"],
            "example": "stripe"
          },
          "paymentMethods": {
            "description": "Supported payment methods",
            "example": ["card", "apple_pay", "google_pay", "twint"],
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["mode", "paymentMethods"]
      },
      "TimeResponseDTO": {
        "type": "object",
        "properties": {
          "hour": {
            "type": "number",
            "description": "Hour (0-23)",
            "example": 1,
            "minimum": 0,
            "maximum": 23
          },
          "minute": {
            "type": "number",
            "description": "Minute (0-59)",
            "example": 30,
            "minimum": 0,
            "maximum": 59
          }
        },
        "required": ["hour", "minute"]
      },
      "LocationResponseDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Location ID",
            "example": "loc_12345"
          },
          "name": {
            "type": "string",
            "description": "Location name",
            "example": "Pizzeria Da Mario"
          },
          "image": {
            "description": "Location image",
            "allOf": [{ "$ref": "#/components/schemas/ImageResponseDTO" }]
          },
          "currency": {
            "type": "string",
            "description": "Currency used by the location",
            "enum": ["CHF", "EUR", "USD"],
            "example": "CHF"
          },
          "country": {
            "type": "string",
            "description": "Country where the location is situated",
            "enum": ["CH", "FR"],
            "example": "CH"
          },
          "address": {
            "description": "Location address",
            "allOf": [{ "$ref": "#/components/schemas/AddressResponseDTO" }]
          },
          "timezone": {
            "type": "string",
            "description": "Location timezone",
            "example": "Europe/Zurich"
          },
          "openingHours": {
            "description": "Location opening hours",
            "allOf": [
              { "$ref": "#/components/schemas/OpeningHoursResponseDTO" }
            ]
          },
          "catalogs": {
            "description": "Location catalogs",
            "type": "array",
            "items": { "type": "object" }
          },
          "organizationId": {
            "type": "string",
            "description": "Location organization ID",
            "example": "org_12345"
          },
          "integrations": {
            "type": "object",
            "description": "Location integrations"
          },
          "deliverySettings": {
            "description": "Location delivery settings",
            "allOf": [
              { "$ref": "#/components/schemas/DeliverySettingsResponseDTO" }
            ]
          },
          "paymentSettings": {
            "description": "Location payment settings",
            "allOf": [
              { "$ref": "#/components/schemas/PaymentSettingsResponseDTO" }
            ]
          },
          "averagePreparationTime": {
            "description": "Average preparation time for orders",
            "allOf": [{ "$ref": "#/components/schemas/TimeResponseDTO" }]
          },
          "minOrderAmount": {
            "type": "number",
            "description": "Minimum order amount in smallest currency unit (e.g. cents)",
            "example": 2000
          },
          "contactInformation": {
            "type": "string",
            "description": "Location contact information",
            "example": "Phone: +41 22 123 4567\nEmail: info@pizzeriamario.ch"
          },
          "autoAcceptOrders": {
            "type": "boolean",
            "description": "Auto accept orders",
            "example": true
          }
        },
        "required": [
          "id",
          "name",
          "currency",
          "country",
          "address",
          "timezone",
          "openingHours",
          "catalogs",
          "organizationId",
          "integrations",
          "deliverySettings",
          "paymentSettings",
          "averagePreparationTime",
          "minOrderAmount",
          "autoAcceptOrders"
        ]
      },
      "UpdateLocationDTOValidator": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Restaurant name",
            "example": "Pizzeria Da Mario"
          },
          "imageId": {
            "type": "string",
            "description": "ID of the uploaded restaurant image",
            "example": "img_12345"
          },
          "address": {
            "description": "Address information",
            "allOf": [{ "$ref": "#/components/schemas/AddressDTOValidator" }]
          },
          "timezone": {
            "type": "string",
            "description": "IANA timezone string",
            "example": "Europe/Zurich"
          },
          "openingHours": {
            "description": "Opening hours by day of the week",
            "allOf": [
              { "$ref": "#/components/schemas/OpeningHoursDTOValidator" }
            ]
          },
          "contactInformation": {
            "type": "string",
            "description": "Contact information (phone numbers, emails)",
            "example": "Phone: +41 22 123 4567\nEmail: info@pizzeriamario.ch"
          },
          "autoAcceptOrders": {
            "type": "boolean",
            "description": "Whether to automatically accept orders without manual confirmation",
            "example": false
          },
          "hasSignedContract": {
            "type": "boolean",
            "description": "Has the contract been signed for this location",
            "example": true
          }
        }
      },
      "PriceDTOValidator": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Amount in smallest currency unit (e.g. cents)",
            "example": 995
          },
          "currency": {
            "type": "string",
            "description": "Currency code",
            "enum": ["CHF", "EUR", "USD"],
            "example": "CHF"
          },
          "formatted": {
            "type": "string",
            "description": "Price display string with currency symbol",
            "example": "CHF 9.95"
          }
        },
        "required": ["amount", "currency"]
      },
      "DeliveryPostalCodeDTOValidator": {
        "type": "object",
        "properties": {
          "postalCode": {
            "type": "number",
            "description": "Postal code number",
            "example": 1204
          },
          "minimumOrderAmount": {
            "type": "number",
            "description": "Minimum order amount for this postal code",
            "example": 2000
          },
          "deliveryFee": {
            "description": "Delivery fee for this postal code",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          }
        },
        "required": ["postalCode", "minimumOrderAmount", "deliveryFee"]
      },
      "FeeSharingSettingsDTOValidator": {
        "type": "object",
        "properties": {
          "mode": {
            "type": "string",
            "description": "Fee sharing mode",
            "enum": ["percentage", "customerPaysAll", "restaurantPaysAll"],
            "example": "customerPaysAll"
          },
          "percentage": {
            "type": "number",
            "description": "Percentage of fee paid by customer (if mode is percentage)",
            "example": 70
          }
        },
        "required": ["mode"]
      },
      "DeliverySettingsDTOValidator": {
        "type": "object",
        "properties": {
          "mode": {
            "type": "string",
            "description": "Delivery mode",
            "enum": ["none", "postalCode", "uberDirect", "chaskis", "free"],
            "example": "postalCode"
          },
          "postalCodes": {
            "description": "List of postal codes with delivery settings",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/DeliveryPostalCodeDTOValidator"
            }
          },
          "feeSharing": {
            "description": "Fee sharing settings for delivery",
            "allOf": [
              { "$ref": "#/components/schemas/FeeSharingSettingsDTOValidator" }
            ]
          }
        },
        "required": ["mode", "postalCodes", "feeSharing"]
      },
      "PaymentSettingsDTOValidator": {
        "type": "object",
        "properties": {
          "paymentMethods": {
            "type": "array",
            "description": "Supported payment methods",
            "example": [
              "HandledByStore",
              "PersistentCard",
              "TemporaryCard",
              "Twint",
              "RevolutPay"
            ],
            "items": {
              "type": "string",
              "enum": [
                "HandledByStore",
                "PersistentCard",
                "TemporaryCard",
                "Twint",
                "RevolutPay"
              ]
            }
          }
        },
        "required": ["paymentMethods"]
      },
      "TimeDTOValidator": {
        "type": "object",
        "properties": {
          "hour": {
            "type": "number",
            "description": "Hour (0-23)",
            "example": 1,
            "minimum": 0,
            "maximum": 23
          },
          "minute": {
            "type": "number",
            "description": "Minute (0-59)",
            "example": 30,
            "minimum": 0,
            "maximum": 59
          }
        },
        "required": ["hour", "minute"]
      },
      "UpdateLocationSettingsDTOValidator": {
        "type": "object",
        "properties": {
          "averagePreparationTime": {
            "description": "Average preparation time for orders",
            "allOf": [{ "$ref": "#/components/schemas/TimeDTOValidator" }]
          },
          "minOrderAmount": {
            "type": "number",
            "description": "Minimum order amount in smallest currency unit (e.g. cents)",
            "example": 2000,
            "minimum": 0
          },
          "whatsappCatalogId": {
            "type": "string",
            "description": "Whatsapp catalog id",
            "example": "123"
          }
        }
      },
      "LocationSettingsResponseDTO": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "description": "Operation success status",
            "example": true
          },
          "locationId": {
            "type": "string",
            "description": "Location ID",
            "example": "loc_12345"
          },
          "averagePreparationTime": {
            "description": "Average preparation time for orders",
            "allOf": [{ "$ref": "#/components/schemas/TimeResponseDTO" }]
          },
          "minOrderAmount": {
            "type": "number",
            "description": "Minimum order amount in smallest currency unit (e.g. cents)",
            "example": 2000
          }
        },
        "required": ["success", "locationId"]
      },
      "BillingSettingsDTOValidator": {
        "type": "object",
        "properties": {
          "stripeSubscriptionId": {
            "type": "string",
            "description": "Stripe subscription ID",
            "example": "sub_123456"
          },
          "stripeSubscriptionStatus": {
            "type": "string",
            "description": "Stripe subscription status",
            "enum": [
              "trialing",
              "active",
              "incomplete",
              "incomplete_expired",
              "past_due",
              "unpaid",
              "paused"
            ],
            "example": "active"
          },
          "stripeCustomerId": {
            "type": "string",
            "description": "Stripe customer ID",
            "example": "cus_123456"
          },
          "haveGeneralSubscription": {
            "type": "boolean",
            "description": "Whether the location has a general subscription",
            "example": true
          },
          "generalSubscriptionFee": {
            "description": "General subscription fee",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          },
          "generalSubscriptionStripePriceId": {
            "type": "string",
            "description": "Stripe price ID for general subscription",
            "example": "price_GENERALSUB123"
          },
          "useCentralization": {
            "type": "boolean",
            "description": "Whether the location uses centralization",
            "example": true
          },
          "useCentralizationFee": {
            "description": "Centralization fee",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          },
          "centralizationStripePriceId": {
            "type": "string",
            "description": "Stripe price ID for centralization",
            "example": "price_123456"
          },
          "whatsappCollectionOrderFee": {
            "description": "WhatsApp collection order fee",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          },
          "collectionStripeMeterId": {
            "type": "string",
            "description": "Stripe meter ID for collection orders",
            "example": "meter_123456"
          },
          "collectionStripePriceId": {
            "type": "string",
            "description": "Stripe price ID for collection orders",
            "example": "price_123456"
          },
          "collectionStripeMeterName": {
            "type": "string",
            "description": "Stripe meter name for collection orders",
            "example": "Collection Meter"
          },
          "whatsappDeliveryOrderFee": {
            "description": "WhatsApp delivery order fee",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          },
          "deliveryStripeMeterId": {
            "type": "string",
            "description": "Stripe meter ID for delivery orders",
            "example": "meter_123456"
          },
          "deliveryStripePriceId": {
            "type": "string",
            "description": "Stripe price ID for delivery orders",
            "example": "price_123456"
          },
          "deliveryStripeMeterName": {
            "type": "string",
            "description": "Stripe meter name for delivery orders",
            "example": "Delivery Meter"
          }
        }
      },
      "CreateCustomerPortalSessionRequestDTO": {
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string",
            "description": "ID of the location for which to create the customer portal session.",
            "example": "loc_12345"
          },
          "returnUrl": {
            "type": "string",
            "description": "The URL to which the user will be redirected after managing their billing information in the Stripe portal.",
            "example": "https://yourapp.com/settings/billing"
          }
        },
        "required": ["locationId", "returnUrl"]
      },
      "CreateCustomerPortalSessionResponseDTO": {
        "type": "object",
        "properties": {
          "portalUrl": {
            "type": "string",
            "description": "The URL of the Stripe customer portal session.",
            "example": "https://billing.stripe.com/p/session/..."
          }
        },
        "required": ["portalUrl"]
      },
      "CreateCustomerDTOValidator": { "type": "object", "properties": {} },
      "AddressDtoValidator": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "description": "Street name and number",
            "example": "123 Main St"
          },
          "address2": {
            "type": "string",
            "description": "Additional address information",
            "example": "Apt 1"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal code",
            "example": "12345"
          },
          "city": {
            "type": "string",
            "description": "City",
            "example": "New York"
          },
          "country": {
            "type": "string",
            "description": "Country",
            "example": "United States"
          },
          "latitude": {
            "type": "number",
            "description": "Latitude",
            "example": 40.7128
          },
          "longitude": {
            "type": "number",
            "description": "Longitude",
            "example": -74.006
          }
        },
        "required": [
          "address",
          "address2",
          "postalCode",
          "city",
          "country",
          "latitude",
          "longitude"
        ]
      },
      "PaymentMethodDTOValidator": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Payment method ID",
            "example": "pm_123"
          },
          "type": {
            "type": "string",
            "description": "Payment method type",
            "example": "card"
          },
          "last4": {
            "type": "string",
            "description": "Last 4 digits of the card",
            "example": "4242"
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the payment method is active",
            "example": true
          },
          "customerId": {
            "type": "string",
            "description": "Customer ID",
            "example": "cust_123"
          }
        },
        "required": ["id", "type", "last4", "isActive", "customerId"]
      },
      "CustomerResponseDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique customer ID",
            "example": "cust_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation date",
            "example": "2023-08-15T14:30:00Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Update date",
            "example": "2023-08-15T15:45:00Z"
          },
          "firstName": {
            "type": "string",
            "description": "First name",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "description": "Last name",
            "example": "Doe"
          },
          "email": {
            "type": "string",
            "description": "Email address",
            "example": "john.doe@example.com"
          },
          "phone": {
            "type": "string",
            "description": "Phone number",
            "example": "+41791234567"
          },
          "whatsappNumber": {
            "type": "string",
            "description": "WhatsApp number",
            "example": "+41791234567"
          },
          "stripeId": {
            "type": "string",
            "description": "Stripe customer ID",
            "example": "cus_abc123"
          },
          "hubriseId": {
            "type": "string",
            "description": "Hubrise customer ID",
            "example": "hrcu_123"
          },
          "address": {
            "description": "Default delivery address",
            "allOf": [{ "$ref": "#/components/schemas/AddressDtoValidator" }]
          },
          "paymentMethods": {
            "description": "Payment methods",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentMethodDTOValidator"
            }
          },
          "locationIds": {
            "description": "Location IDs",
            "example": ["loc_123", "loc_456"],
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["id", "createdAt", "paymentMethods", "locationIds"]
      },
      "UpdateCustomerDtoValidator": { "type": "object", "properties": {} },
      "CreateOrderItemOptionDTOValidator": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the option. This is used to show the option name in the order and does not need to identify an existing option in the catalog.",
            "example": "Extra Cheese"
          },
          "optionListName": {
            "type": "string",
            "description": "The name of the option list. This is used to show the option list name in the order and does not need to identify an existing option list in the catalog.",
            "example": "Toppings"
          },
          "optionListInternalId": {
            "type": "string",
            "description": "The internal ID of the option list. This is used to identify the option list in the catalog. If given, the option list will be linked to the order item and throw an error if the option list does not exist in the catalog.",
            "example": "opt_list_123"
          },
          "optionInternalId": {
            "type": "string",
            "description": "The internal ID of the option. This is used to identify the option in the catalog. If given, the option will be linked to the order item and throw an error if the option does not exist in the catalog.",
            "example": "opt_123"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of the option.",
            "example": 1,
            "default": 1
          },
          "ref": {
            "type": "string",
            "description": "An external reference for the option. This is used to identify the option in an external system such as a POS system.",
            "example": "EXTRA_CHEESE"
          },
          "price": {
            "description": "Price of the option.",
            "default": { "amount": 0, "currency": "CHF" },
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          }
        },
        "required": ["name", "optionListName"]
      },
      "CreateOrderItemDTOValidator": {
        "type": "object",
        "properties": {
          "productName": {
            "type": "string",
            "description": "The name of the product. This is used to show the product name in the order and does not need to identify an existing product in the catalog.",
            "example": "Margherita Pizza"
          },
          "productInternalId": {
            "type": "string",
            "description": "The internal ID of the product. This is used to identify the product in the catalog. If given, the product will be linked to the order item and throw an error if the product does not exist in the catalog.",
            "example": "prod_123"
          },
          "productRef": {
            "type": "string",
            "description": "An external reference for the product. This is used to identify the product in an external system such as a POS system.",
            "example": "PIZZA_LARGE"
          },
          "price": {
            "description": "Item price",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of the item",
            "example": 1
          },
          "customerNotes": {
            "type": "string",
            "description": "Customer notes about the item",
            "example": "Without onions please"
          },
          "options": {
            "description": "Options of the item",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateOrderItemOptionDTOValidator"
            }
          }
        },
        "required": ["productName", "price", "quantity"]
      },
      "CreateOrderDiscountDTOValidator": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the discount. This is used to show the discount name in the order and does not need to identify an existing discount in the catalog.",
            "example": "Summer Sale"
          },
          "ref": {
            "type": "string",
            "description": "An external reference for the discount. This is used to identify the discount in an external system such as a POS system.",
            "example": "SUMMER_2024"
          },
          "priceOff": {
            "description": "Price off. This is the amount of money that will be subtracted from the total price of the order.",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          }
        },
        "required": ["name", "priceOff"]
      },
      "CreateOrderChargeDTOValidator": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the charge. This is used to show the charge name in the order and does not need to identify an existing charge in the catalog.",
            "example": "Delivery Fee"
          },
          "ref": {
            "type": "string",
            "description": "An external reference for the charge. This is used to identify the charge in an external system such as a POS system.",
            "example": "DELIVERY_FEE"
          },
          "price": {
            "description": "Price of the charge.",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          }
        },
        "required": ["name", "price"]
      },
      "CreatePaymentDTOValidator": {
        "type": "object",
        "properties": {
          "externalId": {
            "type": "string",
            "description": "Payment external ID",
            "example": "pay_123"
          },
          "status": {
            "type": "string",
            "description": "Payment status",
            "example": "processing",
            "enum": ["processing", "completed", "failed", "refunded"]
          },
          "type": {
            "type": "string",
            "description": "Payment type",
            "example": "stripe",
            "enum": ["stripe", "store", "external"]
          },
          "orderId": {
            "type": "string",
            "description": "Payment order ID",
            "example": "order_123"
          },
          "paymentMethodId": {
            "type": "string",
            "description": "Payment method ID",
            "example": "method_123"
          },
          "amount": {
            "description": "Payment amount",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          }
        },
        "required": ["externalId", "status", "type", "orderId", "amount"]
      },
      "CreateOrderDTOValidator": {
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string",
            "description": "The id of the location where the order is being created",
            "example": "loc_123"
          },
          "customerId": {
            "type": "string",
            "description": "The id of the customer associated with the order.",
            "example": "cust_123"
          },
          "serviceType": {
            "type": "string",
            "description": "The delivery type of the order. An order can be delivered, collected at the restaurant to go or eaten in the restaurant",
            "enum": ["delivery", "collection", "eat_in"],
            "example": "delivery",
            "default": "delivery"
          },
          "channel": {
            "type": "string",
            "description": "The channel through which the order is being created",
            "example": "whatsapp",
            "enum": ["pos", "whatsapp", "uberEats", "justEat", "deliveroo"],
            "default": "pos"
          },
          "ref": {
            "type": "string",
            "description": "an external reference for the order. Can be used to identify the order in an external system such as a POS system",
            "example": "WA_ORDER_123"
          },
          "expectedTime": {
            "format": "date-time",
            "type": "string",
            "description": "Time at which the order is expected to be ready for collection / delivered depending on the service type",
            "example": "2025-03-26T14:30:00Z"
          },
          "customerNotes": {
            "type": "string",
            "description": "Customer notes about the order in general",
            "example": "Please ring the doorbell"
          },
          "deliveryAddress": {
            "description": "The delivery address for this order. You can provide an address or coordinates",
            "allOf": [{ "$ref": "#/components/schemas/AddressDtoValidator" }]
          },
          "items": {
            "description": "Items of the order. An order must have at least one item.",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateOrderItemDTOValidator"
            }
          },
          "discounts": {
            "description": "Discounts applied to the order. An order can have multiple discounts.",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateOrderDiscountDTOValidator"
            }
          },
          "charges": {
            "description": "Charges applied to the order. An order can have multiple charges.",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreateOrderChargeDTOValidator"
            }
          },
          "payments": {
            "description": "Payments applied to the order. An order can have multiple payments.",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CreatePaymentDTOValidator"
            }
          },
          "status": {
            "type": "string",
            "description": "Status of the order. The status is used to track the order and is automatically updated by the system.",
            "enum": [
              "received",
              "in_preparation",
              "awaiting_shipment",
              "awaiting_collection",
              "in_delivery",
              "completed",
              "rejected",
              "cancelled",
              "delivery_failed"
            ],
            "example": "accepted",
            "default": "new"
          }
        },
        "required": ["locationId", "items"]
      },
      "OrderOptionDTOValidator": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Option ID",
            "example": "opt_123"
          },
          "name": {
            "type": "string",
            "description": "Option name",
            "example": "Extra Cheese"
          },
          "optionListName": {
            "type": "string",
            "description": "Option list name",
            "example": "Toppings"
          },
          "optionListInternalId": {
            "type": "string",
            "description": "Option list internal ID",
            "example": "opt_list_123"
          },
          "optionInternalId": {
            "type": "string",
            "description": "Option internal ID",
            "example": "opt_123"
          },
          "quantity": {
            "type": "number",
            "description": "Option quantity",
            "example": 1
          },
          "ref": {
            "type": "string",
            "description": "Option reference",
            "example": "EXTRA_CHEESE"
          },
          "price": {
            "description": "Option price",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          }
        },
        "required": ["id", "name", "optionListName"]
      },
      "OrderItemDTOValidator": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Item ID",
            "example": "item_123"
          },
          "productName": {
            "type": "string",
            "description": "Product name",
            "example": "Margherita Pizza"
          },
          "productInternalId": {
            "type": "string",
            "description": "Product internal ID",
            "example": "prod_123"
          },
          "skuName": {
            "type": "string",
            "description": "SKU name",
            "example": "Large"
          },
          "skuRef": {
            "type": "string",
            "description": "SKU reference",
            "example": "PIZZA_LARGE"
          },
          "skuInternalId": {
            "type": "string",
            "description": "SKU internal ID",
            "example": "sku_123"
          },
          "price": {
            "description": "Item price",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          },
          "quantity": {
            "type": "number",
            "description": "Item quantity",
            "example": 1
          },
          "customerNotes": {
            "type": "string",
            "description": "Customer notes",
            "example": "Extra crispy"
          },
          "options": {
            "description": "Item options",
            "type": "array",
            "items": { "$ref": "#/components/schemas/OrderOptionDTOValidator" }
          }
        },
        "required": ["id", "productName", "price", "quantity"]
      },
      "OrderDiscountDTOValidator": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Discount ID",
            "example": "disc_123"
          },
          "name": {
            "type": "string",
            "description": "Discount name",
            "example": "Summer Sale"
          },
          "ref": {
            "type": "string",
            "description": "Discount reference",
            "example": "SUMMER_2024"
          },
          "priceOff": {
            "description": "Price off",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          }
        },
        "required": ["id", "name", "priceOff"]
      },
      "OrderChargeDTOValidator": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Charge ID",
            "example": "charge_123"
          },
          "name": {
            "type": "string",
            "description": "Charge name",
            "example": "Delivery Fee"
          },
          "ref": {
            "type": "string",
            "description": "Charge reference",
            "example": "DELIVERY_FEE"
          },
          "price": {
            "description": "Charge price",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          }
        },
        "required": ["id", "name", "price"]
      },
      "PaymentDTOValidator": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Payment ID",
            "example": "pay_123"
          },
          "externalId": {
            "type": "string",
            "description": "Payment external ID",
            "example": "pay_123"
          },
          "amount": {
            "description": "Payment amount",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          },
          "status": {
            "type": "string",
            "description": "Payment status",
            "example": "processing",
            "enum": ["processing", "completed", "failed", "refunded"]
          },
          "type": {
            "type": "string",
            "description": "Payment type",
            "example": "stripe",
            "enum": ["stripe", "store", "external"]
          },
          "orderId": {
            "type": "string",
            "description": "Payment order ID",
            "example": "order_123"
          },
          "paymentMethodId": {
            "type": "string",
            "description": "Payment method ID",
            "example": "method_123"
          }
        },
        "required": ["id", "externalId", "amount", "status", "type", "orderId"]
      },
      "CustomerDTOValidator": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Customer ID",
            "example": "cust_123"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation date",
            "example": "2024-03-15T14:00:00Z"
          },
          "firstName": {
            "type": "string",
            "description": "First name",
            "example": "John"
          },
          "lastName": {
            "type": "string",
            "description": "Last name",
            "example": "Doe"
          },
          "email": {
            "type": "string",
            "description": "Email address",
            "example": "john.doe@example.com"
          },
          "phone": {
            "type": "string",
            "description": "Phone number",
            "example": "+41791234567"
          },
          "whatsappNumber": {
            "type": "string",
            "description": "WhatsApp number",
            "example": "+41791234567"
          },
          "stripeId": {
            "type": "string",
            "description": "Stripe customer ID",
            "example": "cus_123"
          },
          "address": {
            "description": "Default delivery address",
            "allOf": [{ "$ref": "#/components/schemas/AddressDtoValidator" }]
          },
          "paymentMethods": {
            "description": "Payment methods",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/PaymentMethodDTOValidator"
            }
          },
          "locationIds": {
            "description": "Location IDs",
            "example": ["loc_123", "loc_456"],
            "type": "array",
            "items": { "type": "string" }
          },
          "orders": {
            "description": "Orders",
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["id", "createdAt", "paymentMethods", "locationIds"]
      },
      "OrderDTOValidator": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Order ID",
            "example": "order_123"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation date",
            "example": "2024-03-15T14:00:00Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Last update date",
            "example": "2024-03-15T14:30:00Z"
          },
          "shortId": {
            "type": "string",
            "description": "Short ID",
            "example": "ABC123"
          },
          "status": {
            "type": "string",
            "description": "Order status",
            "enum": [
              "received",
              "in_preparation",
              "awaiting_shipment",
              "awaiting_collection",
              "in_delivery",
              "completed",
              "rejected",
              "cancelled",
              "delivery_failed"
            ],
            "example": "new"
          },
          "serviceType": {
            "type": "string",
            "description": "Service type",
            "enum": ["delivery", "collection", "eat_in"],
            "example": "delivery"
          },
          "channel": {
            "type": "string",
            "description": "Order channel",
            "example": "whatsapp"
          },
          "ref": {
            "type": "string",
            "description": "Order reference",
            "example": "WA_ORDER_123"
          },
          "expectedTime": {
            "format": "date-time",
            "type": "string",
            "description": "Expected delivery/collection time",
            "example": "2024-03-15T14:30:00Z"
          },
          "confirmedTime": {
            "format": "date-time",
            "type": "string",
            "description": "Confirmed delivery/collection time",
            "example": "2024-03-15T14:30:00Z"
          },
          "customerNotes": {
            "type": "string",
            "description": "Customer notes",
            "example": "Please ring the doorbell"
          },
          "collectionCode": {
            "type": "string",
            "description": "Collection code",
            "example": "1234"
          },
          "deliveryAddress": {
            "description": "Delivery address",
            "allOf": [{ "$ref": "#/components/schemas/AddressDtoValidator" }]
          },
          "total": {
            "description": "Total amount",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTOValidator" }]
          },
          "items": {
            "description": "Order items",
            "type": "array",
            "items": { "$ref": "#/components/schemas/OrderItemDTOValidator" }
          },
          "discounts": {
            "description": "Order discounts",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderDiscountDTOValidator"
            }
          },
          "charges": {
            "description": "Order charges",
            "type": "array",
            "items": { "$ref": "#/components/schemas/OrderChargeDTOValidator" }
          },
          "payments": {
            "description": "Order payments",
            "type": "array",
            "items": { "$ref": "#/components/schemas/PaymentDTOValidator" }
          },
          "customer": {
            "description": "Customer information",
            "allOf": [{ "$ref": "#/components/schemas/CustomerDTOValidator" }]
          }
        },
        "required": ["id", "createdAt", "shortId", "status"]
      },
      "UpdateOrderStatusDTOValidator": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Order ID",
            "example": "order_123"
          },
          "status": {
            "type": "string",
            "description": "Order status",
            "enum": [
              "received",
              "accepted",
              "in_preparation",
              "awaiting_shipment",
              "awaiting_collection",
              "in_delivery",
              "completed",
              "rejected",
              "cancelled",
              "delivery_failed"
            ],
            "example": "accepted"
          }
        },
        "required": ["id", "status"]
      },
      "CreateConversationDTOValidator": {
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string",
            "description": "ID of the location (restaurant) for the conversation",
            "example": "loc_12345"
          },
          "customerId": {
            "type": "string",
            "description": "ID of the customer for the conversation",
            "example": "cust_12345"
          }
        },
        "required": ["locationId", "customerId"]
      },
      "PlatformTextMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message",
            "enum": ["customer", "location"],
            "example": "location"
          },
          "status": {
            "type": "string",
            "description": "Status of the message",
            "enum": ["pending", "sent", "delivered", "read", "failed"],
            "example": "delivered"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["text"],
            "example": "text"
          },
          "content": {
            "type": "string",
            "description": "Text content of the message",
            "example": "Hello, how can I help you?"
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "status",
          "type",
          "content"
        ]
      },
      "ButtonSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the button",
            "example": "btn_12345"
          },
          "title": {
            "type": "string",
            "description": "Title of the button",
            "example": "Order Now"
          }
        },
        "required": ["id", "title"]
      },
      "PlatformButtonMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message",
            "enum": ["customer", "location"],
            "example": "location"
          },
          "status": {
            "type": "string",
            "description": "Status of the message",
            "enum": ["pending", "sent", "delivered", "read", "failed"],
            "example": "delivered"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["button"],
            "example": "button"
          },
          "content": {
            "type": "string",
            "description": "Text content of the message",
            "example": "Please choose an option:"
          },
          "buttons": {
            "description": "List of buttons",
            "type": "array",
            "items": { "$ref": "#/components/schemas/ButtonSchema" }
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "status",
          "type",
          "content",
          "buttons"
        ]
      },
      "PlatformButtonReplyMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message",
            "enum": ["customer", "location"],
            "example": "location"
          },
          "status": {
            "type": "string",
            "description": "Status of the message",
            "enum": ["pending", "sent", "delivered", "read", "failed"],
            "example": "delivered"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["buttonReply"],
            "example": "buttonReply"
          },
          "buttonTitle": {
            "type": "string",
            "description": "Title of the button that was clicked",
            "example": "Order Now"
          },
          "buttonId": {
            "type": "string",
            "description": "ID of the button that was clicked",
            "example": "btn_12345"
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "status",
          "type",
          "buttonTitle",
          "buttonId"
        ]
      },
      "ProductOptionSchema": {
        "type": "object",
        "properties": {
          "internalId": {
            "type": "string",
            "description": "Internal ID of the option",
            "example": "opt_internal_123"
          },
          "name": {
            "type": "string",
            "description": "Name/Title of the option",
            "example": "Extra Cheese"
          },
          "title": {
            "type": "string",
            "description": "Title of the option",
            "example": "Extra Cheese"
          }
        },
        "required": ["internalId", "name", "title"]
      },
      "ProductSchema": {
        "type": "object",
        "properties": {
          "internalId": {
            "type": "string",
            "description": "Internal ID of the product",
            "example": "prod_internal_123"
          },
          "name": {
            "type": "string",
            "description": "Name of the product",
            "example": "Margherita Pizza"
          },
          "options": {
            "description": "Options selected for this product",
            "type": "array",
            "items": { "$ref": "#/components/schemas/ProductOptionSchema" }
          }
        },
        "required": ["internalId", "name", "options"]
      },
      "PlatformFlowResponseMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message",
            "enum": ["customer", "location"],
            "example": "location"
          },
          "status": {
            "type": "string",
            "description": "Status of the message",
            "enum": ["pending", "sent", "delivered", "read", "failed"],
            "example": "delivered"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["flowResponse"],
            "example": "flowResponse"
          },
          "deliveryType": {
            "type": "string",
            "description": "Type of delivery selected",
            "enum": ["collection", "delivery"],
            "example": "delivery"
          },
          "products": {
            "description": "Products selected in the flow",
            "type": "array",
            "items": { "$ref": "#/components/schemas/ProductSchema" }
          },
          "customerFirstName": {
            "type": "string",
            "description": "Customer first name",
            "example": "John"
          },
          "customerLastName": {
            "type": "string",
            "description": "Customer last name",
            "example": "Doe"
          },
          "street": {
            "type": "string",
            "description": "Street address",
            "example": "123 Main St"
          },
          "postalCode": {
            "type": "string",
            "description": "Postal code",
            "example": "12345"
          },
          "city": {
            "type": "string",
            "description": "City",
            "example": "Zurich"
          },
          "requestedTime": {
            "type": "string",
            "description": "Requested delivery/pickup time",
            "example": "2023-05-20T19:30:00Z"
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "status",
          "type",
          "deliveryType",
          "products"
        ]
      },
      "PlatformFlowMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message",
            "enum": ["customer", "location"],
            "example": "location"
          },
          "status": {
            "type": "string",
            "description": "Status of the message",
            "enum": ["pending", "sent", "delivered", "read", "failed"],
            "example": "delivered"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["flow"],
            "example": "flow"
          },
          "content": {
            "type": "string",
            "description": "Content of the flow message",
            "example": "Starting order flow..."
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "status",
          "type",
          "content"
        ]
      },
      "PlatformAudioMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message",
            "enum": ["customer", "location"],
            "example": "location"
          },
          "status": {
            "type": "string",
            "description": "Status of the message",
            "enum": ["pending", "sent", "delivered", "read", "failed"],
            "example": "delivered"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["audio"],
            "example": "audio"
          },
          "content": {
            "type": "string",
            "description": "Text content of the message (transcription)",
            "example": "I would like to order a pizza"
          },
          "audioUrl": {
            "type": "string",
            "description": "URL to the audio file",
            "example": "https://example.com/audio/123.mp3"
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "status",
          "type",
          "content",
          "audioUrl"
        ]
      },
      "LocationSchema": {
        "type": "object",
        "properties": {
          "latitude": {
            "type": "number",
            "description": "Latitude coordinate",
            "example": 47.3769
          },
          "longitude": {
            "type": "number",
            "description": "Longitude coordinate",
            "example": 8.5417
          }
        },
        "required": ["latitude", "longitude"]
      },
      "PlatformLocationResponseMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message",
            "enum": ["customer", "location"],
            "example": "location"
          },
          "status": {
            "type": "string",
            "description": "Status of the message",
            "enum": ["pending", "sent", "delivered", "read", "failed"],
            "example": "delivered"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["locationResponse"],
            "example": "locationResponse"
          },
          "location": {
            "description": "Location coordinates",
            "allOf": [{ "$ref": "#/components/schemas/LocationSchema" }]
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "status",
          "type",
          "location"
        ]
      },
      "PlatformLocationRequestMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message",
            "enum": ["customer", "location"],
            "example": "location"
          },
          "status": {
            "type": "string",
            "description": "Status of the message",
            "enum": ["pending", "sent", "delivered", "read", "failed"],
            "example": "delivered"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["locationRequest"],
            "example": "locationRequest"
          },
          "content": {
            "type": "string",
            "description": "Text content of the request",
            "example": "Please share your location"
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "status",
          "type",
          "content"
        ]
      },
      "AssistantTextMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "assistant_msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message",
            "enum": ["user", "assistant", "system", "tool"],
            "example": "assistant"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["text"],
            "example": "text"
          },
          "content": {
            "type": "string",
            "description": "Text content of the message",
            "example": "I can help you place an order for pizza."
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "type",
          "content"
        ]
      },
      "ToolCallFunctionSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the function to call",
            "example": "getMenuItems"
          },
          "arguments": {
            "type": "string",
            "description": "Arguments for the function call, serialized as JSON string",
            "example": "{\"category\": \"pizza\", \"limit\": 5}"
          }
        },
        "required": ["name", "arguments"]
      },
      "ToolCallSchema": {
        "type": "object",
        "properties": {
          "toolCallId": {
            "type": "string",
            "description": "Unique identifier for the tool call",
            "example": "call_12345"
          },
          "function": {
            "description": "Function call details",
            "allOf": [{ "$ref": "#/components/schemas/ToolCallFunctionSchema" }]
          },
          "type": {
            "type": "string",
            "description": "Type of tool call",
            "enum": ["function"],
            "example": "function"
          }
        },
        "required": ["toolCallId", "function", "type"]
      },
      "AssistantToolCallMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "assistant_msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender is always assistant for tool calls",
            "enum": ["assistant"],
            "example": "assistant"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["toolCall"],
            "example": "toolCall"
          },
          "toolCalls": {
            "description": "Tool calls to execute",
            "type": "array",
            "items": { "$ref": "#/components/schemas/ToolCallSchema" }
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "type",
          "toolCalls"
        ]
      },
      "AssistantToolResultMessageSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the message",
            "example": "assistant_msg_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.066Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender is always tool for tool results",
            "enum": ["tool"],
            "example": "tool"
          },
          "type": {
            "type": "string",
            "description": "Type of the message",
            "enum": ["toolResult"],
            "example": "toolResult"
          },
          "toolCallId": {
            "type": "string",
            "description": "ID of the tool call this result is for",
            "example": "call_12345"
          },
          "toolResultData": {
            "type": "string",
            "description": "Result data from the tool call, usually a JSON string",
            "example": "{\"items\": [{\"name\": \"Margherita\", \"price\": 1200}]}"
          }
        },
        "required": [
          "id",
          "createdAt",
          "conversationId",
          "sender",
          "type",
          "toolCallId",
          "toolResultData"
        ]
      },
      "OrderDraftItemOptionDTOSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the option",
            "example": "opt_123"
          },
          "optionInternalId": {
            "type": "string",
            "description": "Internal identifier of the option",
            "example": "opt_internal_123"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of the option",
            "example": 1
          }
        },
        "required": ["id", "optionInternalId", "quantity"]
      },
      "OrderDraftItemDTOSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the item",
            "example": "item_123"
          },
          "skuInternalId": {
            "type": "string",
            "description": "Internal identifier of the SKU",
            "example": "sku_internal_123"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of the item",
            "example": 1
          },
          "options": {
            "description": "Options for the item",
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/OrderDraftItemOptionDTOSchema"
            }
          }
        },
        "required": ["id", "skuInternalId", "quantity"]
      },
      "OrderDraftDTOSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The order draft ID",
            "example": "ordrft-123"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "The time the order draft was created",
            "example": "2021-01-01T00:00:00+01:00"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "The time the order draft was last updated",
            "example": "2021-01-01T00:00:00+01:00"
          },
          "customerFirstName": {
            "type": "string",
            "description": "The customer first name",
            "example": "John"
          },
          "customerLastName": {
            "type": "string",
            "description": "The customer last name",
            "example": "Doe"
          },
          "conversationId": {
            "type": "string",
            "description": "The conversation ID this order draft belongs to. Can be used to identity the customer and location.",
            "example": "123"
          },
          "mode": {
            "type": "string",
            "description": "The mode of the order draft. \"location\" means that the order is for a specific location. \"businessOrganization\" means that the order is for a business organization.",
            "example": "location",
            "enum": ["location", "businessOrganization"]
          },
          "locationId": {
            "type": "string",
            "description": "The location ID if mode is location",
            "example": "loc-123"
          },
          "customerNote": {
            "type": "string",
            "description": "A note from the customer about the order. This note is sent to the store to know more about the order.",
            "example": "This is a note"
          },
          "deliveryAddress": {
            "type": "object",
            "description": "The delivery address of the order. Undefined if the order is for pick up.",
            "example": {
              "address": "123 Main St, Anytown, USA",
              "city": "Anytown",
              "country": "USA",
              "postalCode": "12345",
              "state": "CA"
            }
          },
          "deliveryTime": {
            "type": "string",
            "description": "Estiamte of the time at which the order will be delivered. Undefined if the order is for pick up.",
            "example": "2021-01-01T00:00:00+01:00"
          },
          "readyTime": {
            "type": "string",
            "description": "Estiamte of the time at which the order will get out of the kitchen. Can be used as time to pickup by customer if the service type is \"collection\" or as time to be collected by delivery driver if the service type is \"delivery\".",
            "example": "2021-01-01T00:00:00+01:00"
          },
          "serviceType": {
            "type": "string",
            "description": "The service type of the order. \"collection\" means that the order is for pick up. \"delivery\" means that the order is for delivery. \"eat_in\" means that the order is for eat in.",
            "example": "delivery",
            "enum": ["collection", "delivery", "eat_in"]
          },
          "startTime": {
            "type": "string",
            "description": "The time at which the restaurant must start preparing the order in order to be ready on time.",
            "example": "2021-01-01T00:00:00+01:00"
          },
          "discounts": {
            "type": "array",
            "description": "The discounts applied to the order. Can be used to apply a discount to the order.",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/AppliedFixedDiscountDTOSchema"
                },
                {
                  "$ref": "#/components/schemas/AppliedPercentageDiscountDTOSchema"
                },
                { "$ref": "#/components/schemas/AppliedBogoDiscountDTOSchema" },
                {
                  "$ref": "#/components/schemas/AppliedFreeProductDiscountDTOSchema"
                },
                {
                  "$ref": "#/components/schemas/AppliedFreeShippingDiscountDTOSchema"
                }
              ]
            },
            "example": [
              {
                "id": "disc_123",
                "type": "fixed",
                "name": "Summer Sale",
                "discountId": "discountId_123",
                "priceOff": { "amount": 1000, "currency": "CHF" }
              },
              {
                "id": "disc_456",
                "type": "percentage",
                "name": "10% Off",
                "discountId": "discountId_456",
                "percentage": 10,
                "priceOff": { "amount": 500, "currency": "CHF" },
                "appliedToTotal": { "amount": 5000, "currency": "CHF" }
              }
            ]
          },
          "items": {
            "description": "The items of the order draft.",
            "type": "array",
            "items": { "$ref": "#/components/schemas/OrderDraftItemDTOSchema" }
          }
        },
        "required": ["id", "createdAt", "conversationId"]
      },
      "ConversationResponseDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the conversation",
            "example": "conv_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp of the conversation creation",
            "example": "2025-06-12T14:10:48.068Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp of the last update to the conversation",
            "example": "2025-06-12T14:10:48.068Z"
          },
          "type": {
            "type": "string",
            "description": "Type of the conversation",
            "example": "location",
            "enum": ["location", "businessOrganization"]
          },
          "entityId": {
            "type": "string",
            "description": "ID of the entity (location or business organization) for this conversation",
            "example": "loc_12345"
          },
          "customerId": {
            "type": "string",
            "description": "ID of the customer for this conversation",
            "example": "cust_12345"
          },
          "channel": {
            "type": "string",
            "description": "Communication channel",
            "example": "whatsapp",
            "enum": ["whatsapp"]
          },
          "platformMessages": {
            "type": "array",
            "description": "Messages exchanged via the platform (WhatsApp)",
            "items": {
              "oneOf": [
                { "$ref": "#/components/schemas/PlatformTextMessageSchema" },
                { "$ref": "#/components/schemas/PlatformButtonMessageSchema" },
                {
                  "$ref": "#/components/schemas/PlatformButtonReplyMessageSchema"
                },
                {
                  "$ref": "#/components/schemas/PlatformFlowResponseMessageSchema"
                },
                { "$ref": "#/components/schemas/PlatformFlowMessageSchema" },
                { "$ref": "#/components/schemas/PlatformAudioMessageSchema" },
                {
                  "$ref": "#/components/schemas/PlatformLocationResponseMessageSchema"
                },
                {
                  "$ref": "#/components/schemas/PlatformLocationRequestMessageSchema"
                }
              ]
            }
          },
          "assistantMessages": {
            "type": "array",
            "description": "Memory of the AI assistant",
            "items": {
              "oneOf": [
                { "$ref": "#/components/schemas/AssistantTextMessageSchema" },
                {
                  "$ref": "#/components/schemas/AssistantToolCallMessageSchema"
                },
                {
                  "$ref": "#/components/schemas/AssistantToolResultMessageSchema"
                }
              ]
            }
          },
          "orderDraft": {
            "description": "Last order draft associated with this conversation",
            "nullable": true,
            "allOf": [{ "$ref": "#/components/schemas/OrderDraftDTOSchema" }]
          },
          "disableChatbot": {
            "type": "boolean",
            "description": "Whether the chatbot is disabled for this conversation, if true the chatbot won't answer to the customer and will let the location handle the conversation.",
            "example": false
          },
          "nexusInstructions": {
            "type": "array",
            "description": "List of Nexus AI instructions given to the chatbot for this conversation",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "example": "nexus_12345" },
                "createdAt": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2025-06-12T14:10:48.068Z"
                },
                "updatedAt": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2025-06-12T14:10:48.068Z"
                },
                "instruction": {
                  "type": "string",
                  "example": "Propose a special menu with 3 options"
                }
              }
            }
          }
        },
        "required": [
          "id",
          "createdAt",
          "type",
          "entityId",
          "customerId",
          "channel",
          "platformMessages",
          "assistantMessages",
          "orderDraft",
          "disableChatbot",
          "nexusInstructions"
        ]
      },
      "SwitchChatbotActiveDTOValidator": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation to update",
            "example": "conv_12345"
          },
          "active": {
            "type": "boolean",
            "description": "Whether the chatbot should be active",
            "example": true
          }
        },
        "required": ["conversationId", "active"]
      },
      "ConversationWithoutMessagesResponseDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the conversation",
            "example": "conv_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp of the conversation creation",
            "example": "2025-06-12T14:10:48.068Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp of the last update to the conversation",
            "example": "2025-06-12T14:10:48.068Z"
          },
          "type": {
            "type": "string",
            "description": "Type of the conversation",
            "example": "location",
            "enum": ["location", "businessOrganization"]
          },
          "entityId": {
            "type": "string",
            "description": "ID of the entity (location or business organization) for this conversation",
            "example": "loc_12345"
          },
          "customerId": {
            "type": "string",
            "description": "ID of the customer for this conversation",
            "example": "cust_12345"
          },
          "channel": {
            "type": "string",
            "description": "Communication channel",
            "example": "whatsapp",
            "enum": ["whatsapp"]
          },
          "disableChatbot": {
            "type": "boolean",
            "description": "Whether the chatbot is disabled for this conversation, if true the chatbot won't answer to the customer and will let the location handle the conversation.",
            "example": false
          },
          "customerName": {
            "type": "string",
            "description": "Customer full name",
            "example": "John Doe"
          },
          "customerWhatsappNumber": {
            "type": "string",
            "description": "Customer WhatsApp number",
            "example": "+41791234567"
          },
          "lastMessage": {
            "description": "Last message sent in the conversation",
            "oneOf": [
              { "$ref": "#/components/schemas/PlatformTextMessageSchema" },
              { "$ref": "#/components/schemas/PlatformButtonMessageSchema" },
              {
                "$ref": "#/components/schemas/PlatformButtonReplyMessageSchema"
              },
              {
                "$ref": "#/components/schemas/PlatformFlowResponseMessageSchema"
              },
              { "$ref": "#/components/schemas/PlatformFlowMessageSchema" },
              { "$ref": "#/components/schemas/PlatformAudioMessageSchema" },
              {
                "$ref": "#/components/schemas/PlatformLocationResponseMessageSchema"
              },
              {
                "$ref": "#/components/schemas/PlatformLocationRequestMessageSchema"
              }
            ]
          },
          "nexusInstructions": {
            "type": "array",
            "description": "List of Nexus AI instructions given to the chatbot for this conversation",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "example": "nexus_12345" },
                "createdAt": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2025-06-12T14:10:48.068Z"
                },
                "updatedAt": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2025-06-12T14:10:48.068Z"
                },
                "instruction": {
                  "type": "string",
                  "example": "Propose a special menu with 3 options"
                }
              }
            }
          }
        },
        "required": [
          "id",
          "createdAt",
          "type",
          "entityId",
          "customerId",
          "channel",
          "disableChatbot",
          "customerName",
          "customerWhatsappNumber",
          "lastMessage",
          "nexusInstructions"
        ]
      },
      "WebappConversationResponseDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the conversation",
            "example": "conv_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp of the conversation creation",
            "example": "2025-06-12T14:10:48.068Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Timestamp of the last update to the conversation",
            "example": "2025-06-12T14:10:48.068Z"
          },
          "type": {
            "type": "string",
            "description": "Type of the conversation",
            "example": "location",
            "enum": ["location", "businessOrganization"]
          },
          "entityId": {
            "type": "string",
            "description": "ID of the entity (location or business organization) for this conversation",
            "example": "loc_12345"
          },
          "customerId": {
            "type": "string",
            "description": "ID of the customer for this conversation",
            "example": "cust_12345"
          },
          "channel": {
            "type": "string",
            "description": "Communication channel",
            "example": "whatsapp",
            "enum": ["whatsapp"]
          },
          "platformMessages": {
            "type": "array",
            "description": "Messages exchanged via the platform (WhatsApp)",
            "items": {
              "oneOf": [
                { "$ref": "#/components/schemas/PlatformTextMessageSchema" },
                { "$ref": "#/components/schemas/PlatformButtonMessageSchema" },
                {
                  "$ref": "#/components/schemas/PlatformButtonReplyMessageSchema"
                },
                {
                  "$ref": "#/components/schemas/PlatformFlowResponseMessageSchema"
                },
                { "$ref": "#/components/schemas/PlatformFlowMessageSchema" },
                { "$ref": "#/components/schemas/PlatformAudioMessageSchema" },
                {
                  "$ref": "#/components/schemas/PlatformLocationResponseMessageSchema"
                },
                {
                  "$ref": "#/components/schemas/PlatformLocationRequestMessageSchema"
                }
              ]
            }
          },
          "disableChatbot": {
            "type": "boolean",
            "description": "Whether the chatbot is disabled for this conversation, if true the chatbot won't answer to the customer and will let the location handle the conversation.",
            "example": false
          },
          "nexusInstructions": {
            "type": "array",
            "description": "List of Nexus AI instructions given to the chatbot for this conversation",
            "items": {
              "type": "object",
              "properties": {
                "id": { "type": "string", "example": "nexus_12345" },
                "createdAt": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2025-06-12T14:10:48.068Z"
                },
                "updatedAt": {
                  "type": "string",
                  "format": "date-time",
                  "example": "2025-06-12T14:10:48.068Z"
                },
                "instruction": {
                  "type": "string",
                  "example": "Propose a special menu with 3 options"
                }
              }
            }
          }
        },
        "required": [
          "id",
          "createdAt",
          "type",
          "entityId",
          "customerId",
          "channel",
          "platformMessages",
          "disableChatbot",
          "nexusInstructions"
        ]
      },
      "CreateAssistantTextMessageDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Who is sending the message",
            "enum": ["user", "assistant", "system", "tool"],
            "example": "assistant"
          },
          "type": {
            "type": "string",
            "description": "Type of message - text for simple text messages",
            "enum": ["text"],
            "example": "text"
          },
          "content": {
            "type": "string",
            "description": "The text content of the message",
            "example": "Hello, how can I help you with your order today?"
          }
        },
        "required": ["conversationId", "sender", "type", "content"]
      },
      "ToolCallFunctionDTOSchema": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Name of the function to be called",
            "example": "searchProducts"
          },
          "arguments": {
            "type": "string",
            "description": "Function arguments as a JSON string",
            "example": "{\"query\": \"pizza\", \"limit\": 5}"
          }
        },
        "required": ["name", "arguments"]
      },
      "ToolCallDTOSchema": {
        "type": "object",
        "properties": {
          "toolCallId": {
            "type": "string",
            "description": "Unique identifier for the tool call",
            "example": "call_12345"
          },
          "function": {
            "description": "Function details for the tool call",
            "allOf": [
              { "$ref": "#/components/schemas/ToolCallFunctionDTOSchema" }
            ]
          }
        },
        "required": ["toolCallId", "function"]
      },
      "CreateAssistantToolCallMessageDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message - must be assistant for tool calls",
            "enum": ["assistant"],
            "example": "assistant"
          },
          "type": {
            "type": "string",
            "description": "Type of message - toolCall for invoking functions",
            "enum": ["toolCall"],
            "example": "toolCall"
          },
          "toolCalls": {
            "description": "Array of tool calls to execute",
            "type": "array",
            "items": { "$ref": "#/components/schemas/ToolCallDTOSchema" }
          }
        },
        "required": ["conversationId", "sender", "type", "toolCalls"]
      },
      "CreateAssistantToolResultMessageDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_12345"
          },
          "sender": {
            "type": "string",
            "description": "Sender of the message - must be tool for tool results",
            "enum": ["tool"],
            "example": "tool"
          },
          "type": {
            "type": "string",
            "description": "Type of message - toolResult for tool execution results",
            "enum": ["toolResult"],
            "example": "toolResult"
          },
          "toolCallId": {
            "type": "string",
            "description": "ID of the tool call this result is for",
            "example": "call_12345"
          },
          "toolResultData": {
            "type": "string",
            "description": "Data returned from the tool call, usually a JSON string",
            "example": "{\"products\": [{\"name\": \"Margherita\", \"price\": 1200}]}"
          }
        },
        "required": [
          "conversationId",
          "sender",
          "type",
          "toolCallId",
          "toolResultData"
        ]
      },
      "CreatePlatformTextMessageDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_abcd1234"
          },
          "sender": {
            "type": "string",
            "description": "Who is sending the message",
            "enum": ["customer", "location"],
            "example": "customer"
          },
          "type": {
            "type": "string",
            "description": "Type of message - text for simple text messages",
            "enum": ["text"],
            "example": "text"
          },
          "content": {
            "type": "string",
            "description": "The text content of the message",
            "example": "Hello, I would like to order a pizza"
          }
        },
        "required": ["conversationId", "sender", "type", "content"]
      },
      "CreatePlatformFlowMessageDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_abcd1234"
          },
          "sender": {
            "type": "string",
            "description": "Message sender - must be location for flow messages",
            "enum": ["location"],
            "example": "location"
          },
          "type": {
            "type": "string",
            "description": "Type of message - flow for guided conversation flows",
            "enum": ["flow"],
            "example": "flow"
          },
          "content": {
            "type": "string",
            "description": "The content to display with this flow",
            "example": "Please select your delivery time"
          }
        },
        "required": ["conversationId", "sender", "type", "content"]
      },
      "ButtonDTOSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the button",
            "example": "btn_12345"
          },
          "title": {
            "type": "string",
            "description": "Text displayed on the button",
            "example": "Confirm Order"
          }
        },
        "required": ["id", "title"]
      },
      "CreatePlatformButtonMessageDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_abcd1234"
          },
          "sender": {
            "type": "string",
            "description": "Who is sending the message",
            "enum": ["customer", "location"],
            "example": "location"
          },
          "type": {
            "type": "string",
            "description": "Type of message - button for messages with selectable options",
            "enum": ["button"],
            "example": "button"
          },
          "content": {
            "type": "string",
            "description": "The text content to display with the buttons",
            "example": "Please select your delivery time"
          },
          "buttons": {
            "description": "Array of selectable buttons",
            "example": [
              { "id": "btn_1", "title": "As soon as possible" },
              { "id": "btn_2", "title": "In 30 minutes" }
            ],
            "type": "array",
            "items": { "$ref": "#/components/schemas/ButtonDTOSchema" }
          }
        },
        "required": ["conversationId", "sender", "type", "content", "buttons"]
      },
      "CreatePlatformAudioMessageDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_abcd1234"
          },
          "sender": {
            "type": "string",
            "description": "Message sender - must be customer for audio messages",
            "enum": ["customer"],
            "example": "customer"
          },
          "type": {
            "type": "string",
            "description": "Type of message - audio for voice recordings",
            "enum": ["audio"],
            "example": "audio"
          },
          "content": {
            "type": "string",
            "description": "Text description or transcription of the audio",
            "example": "Voice message about order details"
          },
          "audioUrl": {
            "type": "string",
            "description": "URL to access the audio file",
            "example": "https://storage.chataigne.com/audio/message_12345.mp3"
          }
        },
        "required": ["conversationId", "sender", "type", "content", "audioUrl"]
      },
      "CreatePlatformLocationRequestMessageDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_abcd1234"
          },
          "sender": {
            "type": "string",
            "description": "Message sender - must be location for location requests",
            "enum": ["location"],
            "example": "location"
          },
          "type": {
            "type": "string",
            "description": "Type of message - locationRequest for requesting user location",
            "enum": ["locationRequest"],
            "example": "locationRequest"
          },
          "content": {
            "type": "string",
            "description": "Text prompt asking for location",
            "example": "Please share your location to check delivery availability"
          }
        },
        "required": ["conversationId", "sender", "type", "content"]
      },
      "LocationDTOSchema": {
        "type": "object",
        "properties": {
          "latitude": {
            "type": "number",
            "description": "Latitude coordinate",
            "example": 46.2044
          },
          "longitude": {
            "type": "number",
            "description": "Longitude coordinate",
            "example": 6.1432
          }
        },
        "required": ["latitude", "longitude"]
      },
      "CreatePlatformLocationResponseMessageDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_abcd1234"
          },
          "sender": {
            "type": "string",
            "description": "Message sender - must be location for location response",
            "enum": ["location"],
            "example": "location"
          },
          "type": {
            "type": "string",
            "description": "Type of message - locationResponse for providing location coordinates",
            "enum": ["locationResponse"],
            "example": "locationResponse"
          },
          "location": {
            "description": "Location coordinates",
            "allOf": [{ "$ref": "#/components/schemas/LocationDTOSchema" }]
          }
        },
        "required": ["conversationId", "sender", "type", "location"]
      },
      "CreatePlatformUrlMessageDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this message belongs to",
            "example": "conv_abcd1234"
          },
          "sender": {
            "type": "string",
            "description": "Who is sending the message",
            "enum": ["customer", "location"],
            "example": "location"
          },
          "type": {
            "type": "string",
            "description": "Type of message - url for link messages",
            "enum": ["url"],
            "example": "url"
          },
          "content": {
            "type": "string",
            "description": "The text content to display with the URL",
            "example": "Check out our menu!"
          },
          "url": {
            "type": "string",
            "description": "The URL to be shared",
            "example": "https://restaurant.com/menu"
          },
          "cta": {
            "type": "string",
            "description": "Call-to-action text for the URL",
            "example": "View Menu"
          }
        },
        "required": [
          "conversationId",
          "sender",
          "type",
          "content",
          "url",
          "cta"
        ]
      },
      "NexusInstructionDTOSchema": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation to send instruction for",
            "example": "conv_123"
          },
          "instruction": {
            "type": "string",
            "description": "The instruction text to send to the chatbot",
            "example": "Please be more friendly and offer a discount on pizzas in your next response"
          }
        },
        "required": ["conversationId", "instruction"]
      },
      "UpdateOrderDraftDTOValidator": {
        "type": "object",
        "properties": {
          "customerFirstName": {
            "type": "string",
            "description": "The customer first name",
            "example": "John"
          },
          "customerLastName": {
            "type": "string",
            "description": "The customer last name",
            "example": "Doe"
          },
          "customerNote": {
            "type": "string",
            "description": "A note from the customer about their order",
            "example": "For all dishes, put the sauce on the side"
          },
          "deliveryInstructions": {
            "type": "string",
            "description": "Special instructions for delivery",
            "example": "Ring doorbell twice"
          },
          "deliveryAddress": {
            "type": "object",
            "description": "Soon deprecated, use deliveryAddressString/deliveryAddressCoordinates instead",
            "example": {
              "address": "123 Main St",
              "city": "Anytown",
              "postalCode": "12345",
              "country": "US"
            }
          },
          "deliveryAddressString": {
            "type": "string",
            "description": "The delivery address as a string. Have priority over deliveryAddress coordinates.",
            "example": "123 Main St, Anytown, 12345, US"
          },
          "deliveryAddressCoordinates": {
            "type": "object",
            "description": "The delivery address as coordinates.",
            "example": { "latitude": 40.7128, "longitude": -74.006 }
          },
          "requestedTime": {
            "type": "object",
            "description": "The requested time in the timezone of the store or \"ASAP\" if the customer wants to receive their order as soon as possible.",
            "example": "2021-01-01T00:00:00+01:00"
          },
          "serviceType": {
            "type": "string",
            "description": "How the customer wants to receive their order. \"collection\" is for pick up, \"delivery\" is for delivery, \"eat_in\" is for eating in the store.",
            "example": "collection"
          },
          "items": {
            "description": "The items and options in the order identified by their internal ID",
            "example": [
              {
                "skuInternalId": "sku-123",
                "quantity": 1,
                "options": [{ "optionInternalId": "opt-123", "quantity": 1 }]
              }
            ],
            "type": "array",
            "items": { "type": "string" }
          },
          "paymentMethod": {
            "type": "string",
            "description": "The payment method for the order",
            "example": "TemporaryCard"
          },
          "locationId": {
            "type": "string",
            "description": "The location ID of the order draft",
            "example": "123"
          }
        }
      },
      "ValidationErrorSchema": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "The type of validation",
            "example": "validationError",
            "enum": ["validationError"]
          },
          "errors": {
            "type": "array",
            "description": "The validation errors",
            "example": ["SERVICE_TYPE_REQUIRED", "DELIVERY_ADDRESS_REQUIRED"],
            "items": {
              "type": "string",
              "enum": [
                "SERVICE_TYPE_REQUIRED",
                "DELIVERY_NOT_AVAILABLE",
                "DELIVERY_ADDRESS_REQUIRED",
                "NO_ADDRESS_FOUND${deliveryAddressString}",
                "POSTAL_CODE_NOT_SERVED${addressEntity.postalCode}",
                "MINIMUM_ORDER_NOT_MET_FOR_THIS_ZONE${postalCode.minimumOrderAmount}${location.currency}${addressEntity.postalCode}",
                "REQUESTED_TIME_REQUIRED",
                "OUTSIDE_OF_DELIVERY_HOURS",
                "OUTSIDE_OF_STORE_HOURS",
                "SKU_NOT_FOUND${item.skuInternalId}",
                "OPTION_NOT_FOUND${option.optionInternalId}",
                "OPTION_NOT_VALID_FOR_SKU${option.optionInternalId}${item.skuInternalId}",
                "NOT_ENOUGH_OPTIONS_SELECTED${optionList.name}${item.skuInternalId}${minSelections}${selectedCount}",
                "TOO_MANY_OPTIONS_SELECTED${optionList.name}${item.skuInternalId}${maxSelections}${selectedCount}",
                "ORDER_ALREADY_EXISTS_IN_CONVERSATION${order.shortId}",
                "NO_PAYMENT_METHOD",
                "UBER_ADDRESS_UNDELIVERABLE",
                "UBER_ADDRESS_UNDELIVERABLE_LIMITED_COURIERS",
                "INVALID_UBER_TIMINGS"
              ]
            }
          },
          "validationData": {
            "type": "object",
            "description": "Validation data containing additional information",
            "properties": {
              "availablePaymentMethods": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": [
                    "HandledByStore",
                    "PersistentCard",
                    "TemporaryCard",
                    "RevolutPay",
                    "Twint"
                  ]
                },
                "description": "Available payment methods when NO_PAYMENT_METHOD error is present"
              }
            }
          }
        },
        "required": ["type", "errors"]
      },
      "NoPaymentMethodSchema": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "The type of validation. \"noPaymentMethod\" means that the payment is handled by the châtaigne through Stripe and that no payment method is currently linked to the customer.",
            "example": "noPaymentMethod"
          },
          "validationData": {
            "type": "object",
            "description": "Validation data containing additional information",
            "properties": {
              "paymentMethodSetupUrl": {
                "type": "string",
                "description": "The url to setup the payment method",
                "example": "https://stripe.com/setup/123"
              },
              "deliveryFee": {
                "type": "object",
                "properties": {
                  "amount": { "type": "number", "example": 500 },
                  "currency": { "type": "string", "example": "CHF" }
                }
              },
              "deliveryTime": {
                "type": "string",
                "example": "2021-01-01T00:00:00+01:00"
              },
              "readyTime": {
                "type": "string",
                "example": "2021-01-01T00:00:00+01:00"
              },
              "discounts": {
                "type": "array",
                "items": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/AppliedFixedDiscountDTOSchema"
                    },
                    {
                      "$ref": "#/components/schemas/AppliedPercentageDiscountDTOSchema"
                    },
                    {
                      "$ref": "#/components/schemas/AppliedBogoDiscountDTOSchema"
                    },
                    {
                      "$ref": "#/components/schemas/AppliedFreeProductDiscountDTOSchema"
                    },
                    {
                      "$ref": "#/components/schemas/AppliedFreeShippingDiscountDTOSchema"
                    }
                  ]
                }
              },
              "availablePaymentMethods": {
                "type": "array",
                "items": {
                  "type": "string",
                  "enum": [
                    "HandledByStore",
                    "PersistentCard",
                    "TemporaryCard",
                    "RevolutPay",
                    "Twint"
                  ]
                }
              }
            }
          }
        },
        "required": ["type"]
      },
      "ReadyForPaymentSchema": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "The type of validation. \"readyForPayment\" means that the payment is handled by châtaigne through Stripe and that all the information to process the payment is present.",
            "example": "readyForPayment"
          },
          "validationData": {
            "type": "object",
            "description": "Validation data containing additional information",
            "properties": {
              "paymentMethod": {
                "type": "object",
                "properties": {
                  "id": { "type": "string", "example": "pm_123" },
                  "brand": { "type": "string", "example": "visa" },
                  "last4": { "type": "string", "example": "4242" },
                  "expMonth": { "type": "number", "example": 12 },
                  "expYear": { "type": "number", "example": 2025 }
                }
              },
              "deliveryFee": {
                "type": "object",
                "properties": {
                  "amount": { "type": "number", "example": 500 },
                  "currency": { "type": "string", "example": "CHF" }
                }
              },
              "deliveryTime": {
                "type": "string",
                "example": "2021-01-01T00:00:00+01:00"
              },
              "readyTime": {
                "type": "string",
                "example": "2021-01-01T00:00:00+01:00"
              },
              "discounts": {
                "type": "array",
                "items": {
                  "oneOf": [
                    {
                      "$ref": "#/components/schemas/AppliedFixedDiscountDTOSchema"
                    },
                    {
                      "$ref": "#/components/schemas/AppliedPercentageDiscountDTOSchema"
                    },
                    {
                      "$ref": "#/components/schemas/AppliedBogoDiscountDTOSchema"
                    },
                    {
                      "$ref": "#/components/schemas/AppliedFreeProductDiscountDTOSchema"
                    },
                    {
                      "$ref": "#/components/schemas/AppliedFreeShippingDiscountDTOSchema"
                    }
                  ]
                }
              },
              "paymentType": {
                "type": "string",
                "enum": [
                  "RegisterWithoutPayment",
                  "InstantPayment",
                  "CheckoutPayment"
                ]
              }
            }
          }
        },
        "required": ["type"]
      },
      "PriceDTO": {
        "type": "object",
        "properties": {
          "amount": {
            "type": "number",
            "description": "Amount in smallest currency unit",
            "example": 1000
          },
          "currency": {
            "type": "string",
            "description": "Currency code",
            "example": "CHF"
          }
        },
        "required": ["amount", "currency"]
      },
      "AppliedFixedDiscountDTOSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the applied discount",
            "example": "applied_disc_123"
          },
          "name": {
            "type": "string",
            "description": "Name of the discount",
            "example": "Summer Sale"
          },
          "discountId": {
            "type": "string",
            "description": "ID of the discount",
            "example": "disc_123"
          },
          "priceOff": {
            "description": "Amount off from the price",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTO" }]
          },
          "type": {
            "type": "string",
            "description": "Type of discount",
            "example": "fixed",
            "enum": ["fixed"]
          }
        },
        "required": ["id", "name", "discountId", "priceOff", "type"]
      },
      "AppliedPercentageDiscountDTOSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the applied discount",
            "example": "applied_disc_123"
          },
          "name": {
            "type": "string",
            "description": "Name of the discount",
            "example": "Summer Sale"
          },
          "discountId": {
            "type": "string",
            "description": "ID of the discount",
            "example": "disc_123"
          },
          "priceOff": {
            "description": "Amount off from the price",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTO" }]
          },
          "type": {
            "type": "string",
            "description": "Type of discount",
            "example": "percentage",
            "enum": ["percentage"]
          },
          "percentage": {
            "type": "number",
            "description": "Percentage value of the discount",
            "example": 10
          },
          "appliedToTotal": {
            "description": "Total amount the percentage was applied to",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTO" }]
          }
        },
        "required": [
          "id",
          "name",
          "discountId",
          "priceOff",
          "type",
          "percentage",
          "appliedToTotal"
        ]
      },
      "FreeItemDTO": {
        "type": "object",
        "properties": {
          "skuInternalId": {
            "type": "string",
            "description": "Internal identifier of the SKU",
            "example": "sku_internal_123"
          },
          "quantity": {
            "type": "number",
            "description": "Quantity of the free item",
            "example": 1
          },
          "originalPrice": {
            "description": "Original price of the item",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTO" }]
          }
        },
        "required": ["skuInternalId", "quantity", "originalPrice"]
      },
      "AppliedBogoDiscountDTOSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the applied discount",
            "example": "applied_disc_123"
          },
          "name": {
            "type": "string",
            "description": "Name of the discount",
            "example": "Summer Sale"
          },
          "discountId": {
            "type": "string",
            "description": "ID of the discount",
            "example": "disc_123"
          },
          "priceOff": {
            "description": "Amount off from the price",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTO" }]
          },
          "type": {
            "type": "string",
            "description": "Type of discount. \"bogo\" means that the discount is a buy one get one discount.",
            "example": "bogo",
            "enum": ["bogo"]
          },
          "freeItems": {
            "description": "Free items included in the discount",
            "type": "array",
            "items": { "$ref": "#/components/schemas/FreeItemDTO" }
          }
        },
        "required": [
          "id",
          "name",
          "discountId",
          "priceOff",
          "type",
          "freeItems"
        ]
      },
      "AppliedFreeProductDiscountDTOSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the applied discount",
            "example": "applied_disc_123"
          },
          "name": {
            "type": "string",
            "description": "Name of the discount",
            "example": "Summer Sale"
          },
          "discountId": {
            "type": "string",
            "description": "ID of the discount",
            "example": "disc_123"
          },
          "priceOff": {
            "description": "Amount off from the price",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTO" }]
          },
          "type": {
            "type": "string",
            "description": "Type of discount",
            "example": "free_product",
            "enum": ["free_product"]
          },
          "freeItem": {
            "description": "Free item included in the discount",
            "allOf": [{ "$ref": "#/components/schemas/FreeItemDTO" }]
          }
        },
        "required": ["id", "name", "discountId", "priceOff", "type", "freeItem"]
      },
      "AppliedFreeShippingDiscountDTOSchema": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the applied discount",
            "example": "applied_disc_123"
          },
          "name": {
            "type": "string",
            "description": "Name of the discount",
            "example": "Summer Sale"
          },
          "discountId": {
            "type": "string",
            "description": "ID of the discount",
            "example": "disc_123"
          },
          "priceOff": {
            "description": "Amount off from the price",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTO" }]
          },
          "type": {
            "type": "string",
            "description": "Type of discount",
            "example": "free_shipping",
            "enum": ["free_shipping"]
          },
          "originalDeliveryFee": {
            "description": "Original delivery fee of the order",
            "allOf": [{ "$ref": "#/components/schemas/PriceDTO" }]
          }
        },
        "required": [
          "id",
          "name",
          "discountId",
          "priceOff",
          "type",
          "originalDeliveryFee"
        ]
      },
      "UpdateOrderDraftReturnDTO": {
        "type": "object",
        "properties": {
          "orderDraft": {
            "description": "The updated order draft data",
            "allOf": [{ "$ref": "#/components/schemas/OrderDraftDTOSchema" }]
          },
          "validation": {
            "description": "The validation result",
            "oneOf": [
              { "$ref": "#/components/schemas/ValidationErrorSchema" },
              { "$ref": "#/components/schemas/NoPaymentMethodSchema" },
              { "$ref": "#/components/schemas/ReadyForPaymentSchema" }
            ],
            "examples": {
              "validationError": {
                "value": {
                  "type": "validationError",
                  "errors": [
                    "SERVICE_TYPE_REQUIRED",
                    "DELIVERY_ADDRESS_REQUIRED"
                  ]
                },
                "summary": "Validation error"
              },
              "uberAddressUndeliverable": {
                "value": {
                  "type": "validationError",
                  "errors": ["UBER_ADDRESS_UNDELIVERABLE"]
                },
                "summary": "Uber address undeliverable error"
              },
              "uberAddressUndeliverableLimitedCouriers": {
                "value": {
                  "type": "validationError",
                  "errors": ["UBER_ADDRESS_UNDELIVERABLE_LIMITED_COURIERS"]
                },
                "summary": "Uber address undeliverable limited couriers error"
              },
              "noPaymentMethod": {
                "value": {
                  "type": "noPaymentMethod",
                  "validationData": {
                    "paymentMethodSetupUrl": "https://stripe.com/setup/123",
                    "deliveryFee": { "amount": 500, "currency": "CHF" },
                    "deliveryTime": "2023-09-15T19:30:00+01:00",
                    "discounts": [
                      {
                        "id": "disc_123",
                        "type": "fixed",
                        "name": "5 CHF Off",
                        "discountId": "discountId_123",
                        "priceOff": { "amount": 500, "currency": "CHF" }
                      }
                    ],
                    "availablePaymentMethods": ["SavedCard", "OneTimeCard"]
                  }
                },
                "summary": "No payment method"
              },
              "readyForPayment": {
                "value": {
                  "type": "readyForPayment",
                  "validationData": {
                    "paymentMethod": {
                      "id": "pm_123",
                      "brand": "visa",
                      "last4": "4242",
                      "expMonth": 12,
                      "expYear": 2025
                    },
                    "deliveryFee": { "amount": 500, "currency": "CHF" },
                    "deliveryTime": "2023-09-15T19:30:00+01:00",
                    "discounts": [
                      {
                        "id": "disc_123",
                        "type": "fixed",
                        "name": "5 CHF Off",
                        "discountId": "discountId_123",
                        "priceOff": { "amount": 500, "currency": "CHF" }
                      }
                    ],
                    "paymentType": "InstantPayment"
                  }
                },
                "summary": "Ready for payment"
              },
              "invalidUberTimings": {
                "value": {
                  "type": "validationError",
                  "errors": ["INVALID_UBER_TIMINGS"]
                },
                "summary": "Uber timings error (pickup/dropoff window)"
              }
            }
          }
        },
        "required": ["orderDraft", "validation"]
      },
      "UploadImageDTO": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "description": "Image file to upload (JPG, JPEG, PNG, or WebP)",
            "format": "binary"
          }
        },
        "required": ["file"]
      },
      "GetPaymentMethodRegistrationDTO": {
        "type": "object",
        "properties": {
          "customerId": {
            "type": "string",
            "description": "The ID of the customer to associate with the payment method",
            "example": "cus_1234567890"
          },
          "locationId": {
            "type": "string",
            "description": "The ID of the location to associate with the payment method",
            "example": "loc_1234567890"
          }
        },
        "required": ["customerId", "locationId"]
      },
      "TemplateBodyDTOValidator": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "description": "Body text content",
            "example": "Thank you for your order. Your total is {{amount}}.",
            "maxLength": 1024
          },
          "examples": {
            "description": "Example texts for the body",
            "example": [
              "Thank you for your order. Your total is $25.",
              "Thank you for your order. Your total is €30."
            ],
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["text"]
      },
      "TemplateFooterDTOValidator": {
        "type": "object",
        "properties": {
          "text": {
            "type": "string",
            "description": "Footer text content",
            "example": "Reply with YES to confirm",
            "maxLength": 60
          }
        },
        "required": ["text"]
      },
      "PhoneTemplateButtonDTOValidator": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of button",
            "example": "phone",
            "enum": ["phone"]
          },
          "text": {
            "type": "string",
            "description": "Button text",
            "example": "Call us",
            "maxLength": 25
          },
          "phoneNumber": {
            "type": "string",
            "description": "Phone number to call",
            "example": "41791234567",
            "maxLength": 20,
            "pattern": "/^\\d+$/"
          }
        },
        "required": ["type", "text", "phoneNumber"]
      },
      "UrlTemplateButtonDTOValidator": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of button",
            "example": "url",
            "enum": ["url"]
          },
          "text": {
            "type": "string",
            "description": "Button text",
            "example": "Visit our website",
            "maxLength": 25
          },
          "url": {
            "type": "string",
            "description": "URL to navigate to",
            "example": "https://example.com"
          },
          "examples": {
            "description": "Example URLs",
            "example": ["https://example.com/en", "https://example.com/fr"],
            "type": "array",
            "items": { "type": "string" }
          }
        },
        "required": ["type", "text", "url"]
      },
      "QuickReplyTemplateButtonDTOValidator": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of button",
            "example": "quick_reply",
            "enum": ["quick_reply"]
          },
          "text": {
            "type": "string",
            "description": "Button text",
            "example": "Yes, confirm",
            "maxLength": 25
          }
        },
        "required": ["type", "text"]
      },
      "FlowTemplateButtonDTOValidator": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of button",
            "example": "flow",
            "enum": ["flow"]
          },
          "text": {
            "type": "string",
            "description": "Button text",
            "example": "Start order",
            "maxLength": 25
          },
          "flowId": {
            "type": "string",
            "description": "Flow ID to trigger",
            "example": "flow_123"
          },
          "flowAction": {
            "type": "string",
            "description": "Flow action to perform",
            "example": "navigate",
            "enum": ["navigate", "data_exchange"]
          },
          "navigateScreen": {
            "type": "string",
            "description": "Screen to navigate to",
            "example": "menu"
          }
        },
        "required": ["type", "text", "flowId", "flowAction"]
      },
      "TemplateButtonsDTOValidator": {
        "type": "object",
        "properties": {
          "phoneButton": {
            "description": "Phone button configuration",
            "allOf": [
              { "$ref": "#/components/schemas/PhoneTemplateButtonDTOValidator" }
            ]
          },
          "urlButton": {
            "description": "URL button configuration",
            "allOf": [
              { "$ref": "#/components/schemas/UrlTemplateButtonDTOValidator" }
            ]
          },
          "quickReplyButtons": {
            "description": "Quick reply buttons configuration",
            "maxItems": 2,
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/QuickReplyTemplateButtonDTOValidator"
            }
          },
          "flowButton": {
            "description": "Flow button configuration",
            "allOf": [
              { "$ref": "#/components/schemas/FlowTemplateButtonDTOValidator" }
            ]
          }
        }
      },
      "CreateTemplateMessageDTOValidator": {
        "type": "object",
        "properties": {
          "locationId": {
            "type": "string",
            "description": "Location ID where the template will be used",
            "example": "loc_123"
          },
          "name": {
            "type": "string",
            "description": "Template name",
            "example": "order_confirmation"
          },
          "category": {
            "type": "string",
            "description": "Template category",
            "example": "UTILITY",
            "enum": ["AUTHENTICATION", "MARKETING", "UTILITY"]
          },
          "language": {
            "type": "string",
            "description": "Template language",
            "example": "fr",
            "enum": ["fr", "en", "de"]
          },
          "header": {
            "description": "Template header configuration",
            "oneOf": [
              { "$ref": "#/components/schemas/TemplateTextHeaderDTOValidator" },
              {
                "$ref": "#/components/schemas/TemplateMediaHeaderDTOValidator"
              },
              {
                "$ref": "#/components/schemas/TemplateLocationHeaderDTOValidator"
              }
            ]
          },
          "body": {
            "description": "Template body configuration",
            "allOf": [
              { "$ref": "#/components/schemas/TemplateBodyDTOValidator" }
            ]
          },
          "footer": {
            "description": "Template footer configuration",
            "allOf": [
              { "$ref": "#/components/schemas/TemplateFooterDTOValidator" }
            ]
          },
          "buttons": {
            "description": "Template buttons configuration",
            "allOf": [
              { "$ref": "#/components/schemas/TemplateButtonsDTOValidator" }
            ]
          }
        },
        "required": ["locationId", "name", "category", "language", "body"]
      },
      "CreatePaymentMethodDTOValidator": {
        "type": "object",
        "properties": {
          "customerId": {
            "type": "string",
            "description": "The ID of the customer to associate with the payment method",
            "example": "cus_1234567890"
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the payment method is active",
            "example": true
          },
          "stripeId": {
            "type": "string",
            "description": "The ID of the Stripe payment method",
            "example": "pm_1234567890"
          },
          "type": {
            "type": "string",
            "description": "The type of the payment method",
            "example": "card"
          },
          "last4": {
            "type": "string",
            "description": "The last 4 digits of the payment method",
            "example": "1234"
          },
          "fingerprint": {
            "type": "string",
            "description": "The fingerprint of the payment method",
            "example": "1234567890"
          },
          "country": {
            "type": "string",
            "description": "The country of the payment method",
            "example": "US"
          },
          "brand": {
            "type": "string",
            "description": "The brand of the payment method",
            "example": "Visa"
          },
          "exp_month": {
            "type": "number",
            "description": "The expiration month of the payment method",
            "example": 1
          },
          "exp_year": {
            "type": "number",
            "description": "The expiration year of the payment method",
            "example": 2025
          },
          "funding": {
            "type": "string",
            "description": "The funding of the payment method",
            "example": "credit"
          },
          "wallet": {
            "type": "object",
            "description": "The wallet of the payment method",
            "example": {}
          }
        },
        "required": [
          "customerId",
          "isActive",
          "stripeId",
          "type",
          "last4",
          "fingerprint",
          "country",
          "brand",
          "exp_month",
          "exp_year",
          "funding",
          "wallet"
        ]
      },
      "PaymentMethodResponseDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier of the payment method",
            "example": "pm_123456789"
          },
          "customerId": {
            "type": "string",
            "description": "Customer ID associated with this payment method",
            "example": "cust_123456789"
          },
          "type": {
            "type": "string",
            "description": "Type of payment method",
            "example": "card",
            "enum": ["card", "twint"]
          },
          "last4": {
            "type": "string",
            "description": "Last 4 digits of the card (for card payments)",
            "example": "4242"
          },
          "brand": {
            "type": "string",
            "description": "Card brand (for card payments)",
            "example": "visa",
            "enum": ["visa", "mastercard", "amex"]
          },
          "expMonth": {
            "type": "number",
            "description": "Expiration month (for card payments)",
            "example": 12,
            "minimum": 1,
            "maximum": 12
          },
          "expYear": {
            "type": "number",
            "description": "Expiration year (for card payments)",
            "example": 2025
          },
          "isActive": {
            "type": "boolean",
            "description": "Whether the payment method is active",
            "example": true
          },
          "country": {
            "type": "string",
            "description": "Country of the payment method",
            "example": "CH"
          },
          "exp_month": {
            "type": "number",
            "description": "Expiration month of the payment method",
            "example": 12
          },
          "exp_year": {
            "type": "number",
            "description": "Expiration year of the payment method",
            "example": 2025
          },
          "fingerprint": {
            "type": "string",
            "description": "Fingerprint of the payment method",
            "example": "1234567890"
          },
          "funding": {
            "type": "string",
            "description": "Funding of the payment method",
            "example": "card"
          },
          "stripeId": {
            "type": "string",
            "description": "Stripe ID of the payment method",
            "example": "1234567890"
          },
          "wallet": {
            "type": "object",
            "description": "Wallet of the payment method",
            "example": {}
          }
        },
        "required": ["id", "customerId", "isActive"]
      },
      "CreateChatbotFeedbackDTOValidator": {
        "type": "object",
        "properties": {
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this feedback is for",
            "example": "conv_12345"
          },
          "orderId": {
            "type": "string",
            "description": "ID of the order this feedback is related to (if applicable)",
            "example": "order_12345"
          },
          "feedback": {
            "type": "string",
            "description": "Feedback text provided by the customer about their experience with the chatbot",
            "example": "The chatbot was very helpful with my order. It understood all my special requests."
          }
        },
        "required": ["conversationId", "feedback"]
      },
      "ChatbotFeedbackResponseDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique identifier for the feedback",
            "example": "feedback_12345"
          },
          "createdAt": {
            "format": "date-time",
            "type": "string",
            "description": "Creation timestamp",
            "example": "2025-06-12T14:10:48.064Z"
          },
          "updatedAt": {
            "format": "date-time",
            "type": "string",
            "description": "Last update timestamp",
            "example": "2025-06-12T14:10:48.064Z"
          },
          "conversationId": {
            "type": "string",
            "description": "ID of the conversation this feedback is for",
            "example": "conv_12345"
          },
          "orderId": {
            "type": "string",
            "description": "ID of the order this feedback is related to (if applicable)",
            "example": "order_12345",
            "nullable": true
          },
          "feedback": {
            "type": "string",
            "description": "Feedback text provided by the customer",
            "example": "The chatbot was very helpful with my order. It understood all my special requests."
          }
        },
        "required": [
          "id",
          "createdAt",
          "updatedAt",
          "conversationId",
          "feedback"
        ]
      },
      "CreateDiscountDTOValidator": { "type": "object", "properties": {} },
      "UpdateDiscountDTOValidator": { "type": "object", "properties": {} },
      "CoordinatesDto": {
        "type": "object",
        "properties": {
          "latitude": {
            "type": "number",
            "example": 48.8566,
            "description": "Latitude of the address"
          },
          "longitude": {
            "type": "number",
            "example": 2.3522,
            "description": "Longitude of the address"
          }
        },
        "required": ["latitude", "longitude"]
      },
      "CheckAddressInputDto": {
        "type": "object",
        "properties": {
          "address": {
            "type": "string",
            "example": "1 rue de la paix, Paris",
            "description": "Full address string to check"
          },
          "businessOrganizationId": {
            "type": "string",
            "example": "clq6x2x0x0000c2uw3n8k1x7x",
            "description": "ID of the business organization to check against"
          },
          "coordinates": {
            "description": "Coordinates to check",
            "allOf": [{ "$ref": "#/components/schemas/CoordinatesDto" }]
          },
          "mode": {
            "type": "string",
            "example": "location",
            "description": "Mode of the address check"
          },
          "locationId": {
            "type": "string",
            "example": "clq6x2x0x0000c2uw3n8k1x7x",
            "description": "ID of the location to check against"
          },
          "orderDraftId": {
            "type": "string",
            "example": "od_123xyz",
            "description": "ID of the order draft associated with this check"
          },
          "serviceType": {
            "type": "string",
            "enum": ["delivery", "collection"],
            "example": "delivery",
            "description": "Type of service requested - delivery or collection"
          },
          "locationNumber": {
            "type": "number",
            "example": 1,
            "description": "Number of locations to return (default: 1)"
          }
        },
        "required": ["mode"]
      },
      "CheckAddressOutputDto": {
        "type": "object",
        "properties": {
          "success": {
            "type": "boolean",
            "example": true,
            "description": "Indicates if the address check was successful and delivery is possible."
          },
          "code": {
            "type": "string",
            "enum": [
              "NO_DELIVERY",
              "ADDRESS_NOT_FOUND",
              "OUT_OF_RADIUS",
              "UBER_DIRECT_REJECTED",
              "CHASKIS_REJECTED"
            ],
            "example": "ADDRESS_NOT_FOUND",
            "description": "A code indicating the reason for failure, if success is false."
          },
          "foundAddress": {
            "type": "string",
            "example": "1 Rue de la Paix, 75002 Paris, France",
            "description": "The validated and formatted address string, if found."
          },
          "deliveryFee": {
            "type": "number",
            "example": 5.99,
            "description": "The delivery fee for the address, if applicable.",
            "format": "float"
          },
          "deliveryTime": {
            "type": "string",
            "example": "2024-07-20T10:30:00Z",
            "description": "The estimated delivery time in ISO 8601 format, if applicable.",
            "format": "date-time"
          },
          "distance": {
            "type": "number",
            "example": 2.5,
            "description": "The distance in kilometers from the customer address to the selected location.",
            "format": "float"
          },
          "locationId": {
            "type": "string",
            "example": "clq6x2x0x0000c2uw3n8k1x7x",
            "description": "The ID of the location that can serve this address."
          }
        },
        "required": ["success"]
      },
      "CreateMarketingCampaignDTOValidator": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string",
            "description": "Nom de la campagne marketing",
            "example": "Promotion de Noël"
          },
          "description": {
            "type": "string",
            "description": "Description de la campagne",
            "example": "Promotion spéciale pour les fêtes de fin d'année"
          },
          "sendAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date et heure d'envoi de la campagne",
            "example": "2024-12-25T10:00:00Z"
          },
          "templateMessageId": {
            "type": "string",
            "description": "ID du message modèle WhatsApp à utiliser",
            "example": "template-123"
          },
          "recipientNumbers": {
            "description": "Liste des numéros de téléphone des destinataires",
            "example": ["41791234567", "41791234568"],
            "type": "array",
            "items": { "type": "string" }
          },
          "headerVariable": {
            "type": "string",
            "description": "Valeur à injecter dans la variable du HEADER (max 1 variable)"
          },
          "bodyVariables": {
            "description": "Valeurs à insérer dans les variables du BODY, dans l'ordre {{1}}, {{2}}, ...",
            "type": "array",
            "items": { "type": "string" }
          },
          "status": {
            "type": "string",
            "description": "Statut de la campagne",
            "enum": ["planned", "sent", "failed", "cancelled"],
            "default": "planned"
          },
          "locationId": {
            "type": "string",
            "description": "ID du restaurant associé à la campagne",
            "example": "loc_123"
          }
        },
        "required": [
          "name",
          "sendAt",
          "templateMessageId",
          "recipientNumbers",
          "status",
          "locationId"
        ]
      },
      "MarketingCampaignDTOResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Identifiant unique de la campagne",
            "example": "campaign_123"
          },
          "name": {
            "type": "string",
            "description": "Nom de la campagne marketing",
            "example": "Promotion de Noël"
          },
          "description": {
            "type": "string",
            "description": "Description de la campagne",
            "example": "Promotion spéciale pour les fêtes de fin d'année"
          },
          "sendAt": {
            "format": "date-time",
            "type": "string",
            "description": "Date et heure d'envoi de la campagne",
            "example": "2024-12-25T10:00:00Z"
          },
          "templateMessage": {
            "type": "object",
            "description": "Message modèle WhatsApp utilisé",
            "additionalProperties": false
          },
          "recipientNumbers": {
            "description": "Liste des numéros de téléphone des destinataires",
            "example": ["41791234567", "41791234568"],
            "type": "array",
            "items": { "type": "string" }
          },
          "status": {
            "type": "string",
            "description": "Statut de la campagne",
            "enum": ["planned", "sent", "failed", "cancelled"]
          },
          "locationId": {
            "type": "string",
            "description": "ID du restaurant associé à la campagne",
            "example": "loc_123"
          }
        },
        "required": [
          "id",
          "name",
          "description",
          "sendAt",
          "templateMessage",
          "recipientNumbers",
          "status",
          "locationId"
        ]
      },
      "UploadFileDTO": {
        "type": "object",
        "properties": {
          "file": {
            "type": "string",
            "description": "File to upload (MP4 for videos, PDF/DOC/DOCX for documents)",
            "format": "binary"
          }
        },
        "required": ["file"]
      },
      "FileResponseDTO": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Unique file ID",
            "example": "file_12345"
          },
          "url": {
            "type": "string",
            "description": "Direct S3 URL for the uploaded file",
            "example": "https://s3.amazonaws.com/bucket/files/file_12345.mp4"
          },
          "filename": {
            "type": "string",
            "description": "Original filename",
            "example": "presentation.mp4"
          },
          "mimeType": {
            "type": "string",
            "description": "File MIME type",
            "example": "video/mp4"
          },
          "size": {
            "type": "number",
            "description": "File size in bytes",
            "example": 2048576
          },
          "type": {
            "type": "string",
            "description": "File type category",
            "example": "video",
            "enum": ["video", "document"]
          },
          "uploadedAt": {
            "type": "string",
            "description": "Upload timestamp",
            "example": "2024-01-15T10:30:00Z"
          }
        },
        "required": [
          "id",
          "url",
          "filename",
          "mimeType",
          "size",
          "type",
          "uploadedAt"
        ]
      }
    }
  }
}
